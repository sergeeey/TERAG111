# üìä –ò—Ç–æ–≥–æ–≤—ã–π –û—Ç—á–µ—Ç: TERAG 2.1 Benchmark & Validation

**–î–∞—Ç–∞:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞, –≥–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (100%)

**–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
src/benchmark/
‚îú‚îÄ‚îÄ config/              ‚úÖ 3 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞
‚îú‚îÄ‚îÄ loaders/             ‚úÖ 3 –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ pipelines/           ‚úÖ 3 –ø–∞–π–ø–ª–∞–π–Ω–∞
‚îú‚îÄ‚îÄ eval/                ‚úÖ 2 –º–æ–¥—É–ª—è –æ—Ü–µ–Ω–∫–∏
‚îî‚îÄ‚îÄ run_benchmark.py     ‚úÖ –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
```

### 2. –ó–∞–≥—Ä—É–∑—á–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (100%)

**‚úÖ `dataset_loader.py`**
- –ó–∞–≥—Ä—É–∑–∫–∞ MultiHop-QA
- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–ø—É—Å–∞ TERAG
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QA –∏–∑ –∫–æ—Ä–ø—É—Å–∞

**‚úÖ `neo4j_ingest.py`**
- –ó–∞–≥—Ä—É–∑–∫–∞ SPO-—Ç—Ä–∏–ø–ª–µ—Ç–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

**‚úÖ `chroma_ingest.py`**
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤ ChromaDB
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞

### 3. –ü–∞–π–ø–ª–∞–π–Ω—ã (100%)

**‚úÖ `vector_pipeline.py`**
- Vector-RAG —Å ChromaDB
- Haystack –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- Retriever + Reader

**‚úÖ `graph_pipeline.py`**
- Graph-RAG —Å Neo4j
- Cypher –∑–∞–ø—Ä–æ—Å—ã
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤

**‚úÖ `hybrid_pipeline.py`**
- –ê–≥–µ–Ω—Ç–Ω—ã–π router (LLM-based)
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- Reciprocal Rank Fusion

### 4. –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ (100%)

**‚úÖ `metrics.py`**
- RAGAs –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- 4 –º–µ—Ç—Ä–∏–∫–∏ (Faithfulness, Context Precision, Context Recall, Answer Relevancy)
- –û—Ü–µ–Ω–∫–∞ pipeline

**‚úÖ `report_builder.py`**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON –æ—Ç—á–µ—Ç–æ–≤
- –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 5. –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (100%)

**‚úÖ `run_benchmark.py`**
- CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ pipeline
- MLflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

### 6. CI/CD (100%)

**‚úÖ `.github/workflows/benchmark.yml`**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Neo4j —á–µ—Ä–µ–∑ Docker
- –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö pipeline
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤

### 7. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (100%)

**‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `requirements.txt`:**
- `haystack-ai>=2.0.0`
- `ragas>=0.1.2`
- `mlflow>=2.9.0`
- `langchain>=0.2.0`
- `langsmith>=0.1.0`

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (3):
1. `src/benchmark/config/vector_rag.yml`
2. `src/benchmark/config/graph_rag.yml`
3. `src/benchmark/config/hybrid_rag.yml`

### –ó–∞–≥—Ä—É–∑—á–∏–∫–∏ (3):
4. `src/benchmark/loaders/dataset_loader.py`
5. `src/benchmark/loaders/neo4j_ingest.py`
6. `src/benchmark/loaders/chroma_ingest.py`

### –ü–∞–π–ø–ª–∞–π–Ω—ã (3):
7. `src/benchmark/pipelines/vector_pipeline.py`
8. `src/benchmark/pipelines/graph_pipeline.py`
9. `src/benchmark/pipelines/hybrid_pipeline.py`

### –û—Ü–µ–Ω–∫–∞ (2):
10. `src/benchmark/eval/metrics.py`
11. `src/benchmark/eval/report_builder.py`

### –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:
12. `src/benchmark/run_benchmark.py`

### CI/CD:
13. `.github/workflows/benchmark.yml`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (2):
14. `docs/TERAG_2.1_BENCHMARK.md`
15. `src/benchmark/README.md`

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

2. **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:**
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ Neo4j
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ ChromaDB

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å benchmark:**
   ```bash
   python src/benchmark/run_benchmark.py --pipeline all
   ```

### –í —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏:

4. **–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**
5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞–π–ø–ª–∞–π–Ω—ã**
6. **–î–æ—Å—Ç–∏—á—å —Ü–µ–ª–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫**

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏

**–¶–µ–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- Faithfulness: ‚â• 0.90
- Context Precision: ‚â• 0.85
- Context Recall: ‚â• 0.90
- Answer Relevancy: ‚â• 0.95

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-27










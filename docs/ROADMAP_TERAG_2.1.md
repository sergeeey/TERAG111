# üó∫Ô∏è TERAG 2.1 ‚Äî Operational Upgrade Roadmap

**–ö–æ–¥–æ–≤–æ–µ –∏–º—è:** *Vizier's Bridge*  
**–í–ª–∞–¥–µ–ª–µ—Ü:** –°–µ—Ä–≥–µ–π –í–∞–ª–µ—Ä—å–µ–≤–∏—á  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** Approved  
**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:** 2025-01-27

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞](#–æ–±–∑–æ—Ä-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–§–∞–∑—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#—Ñ–∞–∑—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
3. [–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏](#–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-–∏-–≤—Ä–µ–º–µ–Ω–Ω—ã–µ-—Ä–∞–º–∫–∏)
4. [–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞](#–º–µ—Ç—Ä–∏–∫–∏-—É—Å–ø–µ—Ö–∞)
5. [CI/CD Pipeline](#cicd-pipeline)
6. [–†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è](#—Ä–∏—Å–∫–∏-–∏-–º–∏—Ç–∏–≥–∞—Ü–∏—è)

---

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

### –¶–µ–ª–∏

1. –ü–æ–≤—ã—Å–∏—Ç—å —Ñ–∞–∫—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å reasoning
2. –í–Ω–µ–¥—Ä–∏—Ç—å –ø–æ–ª–Ω—É—é —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π —á–µ—Ä–µ–∑ LangGraph
3. –°–æ–∑–¥–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π Guardrail-as-Router –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç Prompt Injection
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ü–∏–∫–ª PromptOps –∏ CI/CD –ø–∞–π–ø–ª–∞–π–Ω
5. –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ReasonGraph (Vizier's Bridge)

### –§–∞–∑—ã

```
Benchmark ‚Üí T.R.A.C. ‚Üí Ethics ‚Üí PromptOps ‚Üí Vizier
```

---

## üöÄ –§–∞–∑—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### Phase 1: Benchmark & Validation ‚úÖ

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–°—Ä–æ–∫:** 2025-01-27 (–∑–∞–≤–µ—Ä—à–µ–Ω–æ)

#### –ó–∞–¥–∞—á–∏

- ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ç—Ä–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞ (Vector, Graph, Hybrid) –≤ `src/benchmark/pipelines/`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å RAGAs –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–∏ Faithfulness/Recall
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ MLflow + –æ—Ç—á—ë—Ç `benchmark_report.json`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –º–µ—Ç—Ä–∏–∫: Faithfulness ‚â• 0.9, Recall ‚â• 0.9

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π baseline TERAG Benchmark —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ AI-REPS (R1‚ÄìR3, E1‚ÄìE2).

#### –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ | –ú–∏–Ω–∏–º—É–º | –°—Ç–∞—Ç—É—Å |
|---------|---------|---------|--------|
| Faithfulness | ‚â• 0.90 | 0.85 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| Context Precision | ‚â• 0.85 | 0.80 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| Context Recall | ‚â• 0.90 | 0.85 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| Answer Relevancy | ‚â• 0.95 | 0.90 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |

---

### Phase 2: LangGraph Core (T.R.A.C.) üî¥

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –æ—á–µ—Ä–µ–¥–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** CRITICAL  
**–°—Ä–æ–∫:** 2025-02-10 (2 –Ω–µ–¥–µ–ª–∏)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 1 ‚úÖ

#### –ó–∞–¥–∞—á–∏

1. **–°–æ–∑–¥–∞—Ç—å LangGraph Core**
   - –°–æ–∑–¥–∞—Ç—å `src/core/agents/langgraph_core.py` —Å –∫–ª–∞—Å—Å–æ–º `TERAGStateGraph`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å state machine —Å —É–∑–ª–∞–º–∏:
     - `Planner_Node` ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è
     - `Solver_Node` ‚Äî —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
     - `Verifier_Node` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
     - `Guardrail_Node` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è unsafe input
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Scratchpad (Chain-of-Thought) –≤ State
   - –°–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å ReasonGraph JSON –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ reasoning

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏**
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫ `TERAGEvolutionLoop`
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `KAGSolver`
   - –°–≤—è–∑–∞—Ç—å —Å `AI-REPS` –º–µ—Ç—Ä–∏–∫–∞–º–∏

3. **MLflow —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞**
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥ reasoning
   - –°–æ—Ö—Ä–∞–Ω—è—Ç—å ReasonGraph JSON –≤ MLflow
   - –°–æ–∑–¥–∞—Ç—å audit-–ª–µ–Ω—Ç—É

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

–†–∞–±–æ—á–∏–π T.R.A.C.-–∫–æ–Ω—Ç—É—Ä —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π reasoning –∏ audit-–ª–µ–Ω—Ç–æ–π –≤ MLflow.

#### –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|----------|
| Reasoning Trace Completeness | 100% | –í—Å–µ —à–∞–≥–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è |
| State Transition Success Rate | ‚â• 0.95 | –£—Å–ø–µ—à–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã |
| Scratchpad Utilization | ‚â• 0.80 | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –ø–∞–º—è—Ç–∏ |

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏

- –ù–µ–¥–µ–ª—è 1: –°–æ–∑–¥–∞–Ω–∏–µ LangGraph Core, –±–∞–∑–æ–≤—ã–µ —É–∑–ª—ã
- –ù–µ–¥–µ–ª—è 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, MLflow

---

### Phase 3: Security Layer (AI-REPS: S1‚ÄìS2) üî¥

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –æ—á–µ—Ä–µ–¥–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–°—Ä–æ–∫:** 2025-02-24 (2 –Ω–µ–¥–µ–ª–∏)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 2

#### –ó–∞–¥–∞—á–∏

1. **Guardrail-as-Router**
   - –°–æ–∑–¥–∞—Ç—å `Guardrail_Node` –≤ LangGraph —Å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–µ–π safe/harmful
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∫ –æ—Ç–∫–∞–∑—É –ø—Ä–∏ harmful input
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `EthicalFilter`

2. **Red Team —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å Promptfoo Red Team —Ç–µ—Å—Ç—ã –≤ CI/CD
   - –°–æ–∑–¥–∞—Ç—å –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è OWASP LLM01
   - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—É—Å–∫ Red Team —Ç–µ—Å—Ç–æ–≤

3. **–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å**
   - –°–æ–±—Ä–∞—Ç—å Red Team –æ—Ç—á—ë—Ç (`RedTeam_Report.json`)
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ MLflow
   - –°–æ–∑–¥–∞—Ç—å dashboard –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

99% detection rate OWASP LLM01 + –æ—Ç—á—ë—Ç `RedTeam_Report.json`.

#### –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|----------|
| OWASP LLM01 Detection Rate | ‚â• 0.99 | –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ prompt injection |
| Secure Reasoning Index | ‚â• 0.8 | –ò–Ω–¥–µ–∫—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏—è |
| False Positive Rate | ‚â§ 0.05 | –õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è |

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏

- –ù–µ–¥–µ–ª—è 1: Guardrail Node, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ù–µ–¥–µ–ª—è 2: Red Team —Ç–µ—Å—Ç—ã, –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

---

### Phase 4: PromptOps Integration üî¥

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –æ—á–µ—Ä–µ–¥–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** HIGH  
**–°—Ä–æ–∫:** 2025-03-10 (2 –Ω–µ–¥–µ–ª–∏)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 2, Phase 3

#### –ó–∞–¥–∞—á–∏

1. **MLflow Prompt Registry**
   - –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å MLflow Prompt Registry (`prompts/registry/`)
   - –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–∏–∞—Å—ã `@dev`, `@staging`, `@prod`

2. **Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
   - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ FastAPI backend (`prompt_loader.py`)
   - –°–æ–∑–¥–∞—Ç—å API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞–º–∏
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å LangGraph Core

3. **CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫:
     - PromptLint (–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤)
     - Bandit (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
     - pip-audit (—É—è–∑–≤–∏–º–æ—Å—Ç–∏)
     - RAGAs Eval (–∫–∞—á–µ—Å—Ç–≤–æ)
   - –°–æ–∑–¥–∞—Ç—å workflow –¥–ª—è –¥–µ–ø–ª–æ—è –ø—Ä–æ–º–ø—Ç–æ–≤

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π PromptOps pipeline —Å version control –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.

#### –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|----------|
| Prompt Version Control | 100% | –í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã |
| Automated Validation Rate | ‚â• 0.95 | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è |
| Prompt Deployment Time | ‚â§ 5 –º–∏–Ω | –í—Ä–µ–º—è –¥–µ–ø–ª–æ—è |

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏

- –ù–µ–¥–µ–ª—è 1: MLflow Registry, backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ù–µ–¥–µ–ª—è 2: CI/CD, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

### Phase 5: Vizier's Bridge UX üü°

**–°—Ç–∞—Ç—É—Å:** ‚è≥ –í –æ—á–µ—Ä–µ–¥–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** MEDIUM  
**–°—Ä–æ–∫:** 2025-03-24 (2 –Ω–µ–¥–µ–ª–∏)  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 2, Phase 4

#### –ó–∞–¥–∞—á–∏

1. **Backend SSE endpoint**
   - –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å FastAPI SSE endpoint –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ ReasonGraph JSON
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è reasoning flow
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–∏–º–∏–Ω–≥–∞

2. **Frontend 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**
   - –°–æ–∑–¥–∞—Ç—å React Three Fiber –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `TeragVizierScene`
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥—Å–≤–µ—Ç–∫—É –∞–∫—Ç–∏–≤–Ω—ã—Ö —É–∑–ª–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é reasoning flow

3. **UX –º–µ—Ç—Ä–∏–∫–∏**
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫—É A.R.I. (Average Resonance Index) —á–µ—Ä–µ–∑ UX-–æ–ø—Ä–æ—Å–Ω–∏–∫
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å AI-REPS –º–µ—Ç—Ä–∏–∫–∞–º–∏
   - –°–æ–∑–¥–∞—Ç—å dashboard –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

#### –†–µ–∑—É–ª—å—Ç–∞—Ç

–ò–º–º–µ—Ä—Å–∏–≤–Ω—ã–π UI ReasonGraph —Å –∏–∑–º–µ—Ä–∏–º—ã–º UX-–ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–º –¥–æ–≤–µ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### –ú–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|----------|
| Cognitive Resonance Index | ‚â• 0.8 | –ò–Ω–¥–µ–∫—Å –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∑–æ–Ω–∞–Ω—Å–∞ |
| User Trust Score | ‚â• 0.85 | –î–æ–≤–µ—Ä–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| Visualization FPS | ‚â• 60 | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 3D |

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏

- –ù–µ–¥–µ–ª—è 1: Backend SSE, –±–∞–∑–æ–≤—ã–π 3D –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ù–µ–¥–µ–ª—è 2: –ê–Ω–∏–º–∞—Ü–∏–∏, UX –º–µ—Ç—Ä–∏–∫–∏, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

---

## üìä –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏

### –î–∏–∞–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```mermaid
gantt
    title TERAG 2.1 Implementation Timeline
    dateFormat YYYY-MM-DD
    section Phase 1
    Benchmark & Validation    :done, phase1, 2025-01-27, 1d
    section Phase 2
    LangGraph Core            :active, phase2, 2025-01-28, 14d
    section Phase 3
    Security Layer            :phase3, after phase2, 14d
    section Phase 4
    PromptOps Integration     :phase4, after phase2 phase3, 14d
    section Phase 5
    Vizier's Bridge UX        :phase5, after phase2 phase4, 14d
```

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å

```
Phase 1 (Benchmark) ‚Üí Phase 2 (LangGraph) ‚Üí Phase 3 (Security) ‚Üí Phase 4 (PromptOps) ‚Üí Phase 5 (Vizier)
                                    ‚Üì
                            Phase 2 ‚Üí Phase 5 (Vizier)
```

**–û–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ~8 –Ω–µ–¥–µ–ª—å (56 –¥–Ω–µ–π)

---

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –¶–µ–ª–µ–≤–æ–µ | –ú–∏–Ω–∏–º—É–º | –¢–µ–∫—É—â–µ–µ |
|---------|---------|---------|---------|
| **Faithfulness** | ‚â• 0.90 | 0.85 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| **Context Precision** | ‚â• 0.85 | 0.80 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| **Context Recall** | ‚â• 0.90 | 0.85 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| **Secure Reasoning Index** | ‚â• 0.8 | 0.75 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| **OWASP LLM01 Detection Rate** | ‚â• 0.99 | 0.95 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| **Cognitive Resonance Index** | ‚â• 0.8 | 0.75 | ‚è≥ –í –ø—Ä–æ—Ü–µ—Å—Å–µ |

### –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ —Ñ–∞–∑–∞–º

#### Phase 1: Benchmark ‚úÖ
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞
- ‚è≥ –ú–µ—Ç—Ä–∏–∫–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è

#### Phase 2: LangGraph Core
- Reasoning Trace Completeness: 100%
- State Transition Success Rate: ‚â• 0.95
- Scratchpad Utilization: ‚â• 0.80

#### Phase 3: Security Layer
- OWASP LLM01 Detection Rate: ‚â• 0.99
- Secure Reasoning Index: ‚â• 0.8
- False Positive Rate: ‚â§ 0.05

#### Phase 4: PromptOps
- Prompt Version Control: 100%
- Automated Validation Rate: ‚â• 0.95
- Prompt Deployment Time: ‚â§ 5 –º–∏–Ω

#### Phase 5: Vizier's Bridge
- Cognitive Resonance Index: ‚â• 0.8
- User Trust Score: ‚â• 0.85
- Visualization FPS: ‚â• 60

---

## üîÑ CI/CD Pipeline

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **MLflow** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫
- **LangSmith** ‚Äî —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ LLM –≤—ã–∑–æ–≤–æ–≤
- **RAGAs** ‚Äî –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ RAG
- **Promptfoo** ‚Äî Red Team —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Bandit** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
- **pip-audit** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –≠—Ç–∞–ø—ã

1. **Unit Tests** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
2. **PromptLint** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤
3. **Security Scan** ‚Äî Bandit + pip-audit
4. **RAG Eval** ‚Äî RAGAs –æ—Ü–µ–Ω–∫–∞
5. **Red Team** ‚Äî Promptfoo —Ç–µ—Å—Ç—ã
6. **Deploy** ‚Äî —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

- **MLflow UI** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- **GitHub Actions Artifacts** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤
- **LangSmith Dash** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ LLM –≤—ã–∑–æ–≤–æ–≤

---

## üì¶ Deliverables

### –î–æ–∫—É–º–µ–Ω—Ç—ã

- ‚úÖ `benchmark_report.json` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã benchmark
- ‚è≥ `redteam_report.json` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã Red Team —Ç–µ—Å—Ç–æ–≤
- ‚è≥ `reason_graph.json` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ reasoning
- ‚è≥ `mlflow_run_logs/` ‚Äî –ª–æ–≥–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
- ‚è≥ `vizier_scene.jsx` ‚Äî 3D –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

### –ö–æ–¥

- ‚úÖ `src/benchmark/` ‚Äî benchmark —Å–∏—Å—Ç–µ–º–∞
- ‚è≥ `src/core/agents/langgraph_core.py` ‚Äî LangGraph Core
- ‚è≥ `src/core/agents/guardrail_node.py` ‚Äî Guardrail Node
- ‚è≥ `prompts/registry/` ‚Äî Prompt Registry
- ‚è≥ `src/api/prompt_loader.py` ‚Äî –∑–∞–≥—Ä—É–∑—á–∏–∫ –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚è≥ `src/components/vizier/TeragVizierScene.tsx` ‚Äî 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| LangGraph –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–ª–æ–∂–Ω–µ–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã—Ö —É–∑–ª–æ–≤, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É—Å–ª–æ–∂–Ω—è—Ç—å |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–µ–µ | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, LOD, –∏–Ω—Å—Ç–∞–Ω—Å–∏–Ω–≥ |
| Red Team —Ç–µ—Å—Ç—ã –Ω–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –∞—Ç–∞–∫–∏ | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–æ–µ | –†–∞—Å—à–∏—Ä–∏—Ç—å –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OWASP Top 10 |

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| –ó–∞–¥–µ—Ä–∂–∫–∞ Phase 2 –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–æ–µ | –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏ |
| –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤, CI/CD |

### –†–µ—Å—É—Ä—Å–Ω—ã–µ —Ä–∏—Å–∫–∏

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –í–ª–∏—è–Ω–∏–µ | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|---------|-----------|
| –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è benchmark | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω–µ–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, MultiHop-QA |

---

## üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –ø–ª–∞–Ω

### –ù–µ–¥–µ–ª—è 1-2 (2025-01-27 - 2025-02-10): Phase 2 ‚Äî LangGraph Core

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π LangGraph Core —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π

**–ó–∞–¥–∞—á–∏:**
- –î–µ–Ω—å 1-3: –°–æ–∑–¥–∞–Ω–∏–µ `TERAGStateGraph` –∏ –±–∞–∑–æ–≤—ã—Ö —É–∑–ª–æ–≤
- –î–µ–Ω—å 4-7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Scratchpad –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è ReasonGraph
- –î–µ–Ω—å 8-10: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –î–µ–Ω—å 11-14: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ MLflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ù–µ–¥–µ–ª—è 3-4 (2025-02-10 - 2025-02-24): Phase 3 ‚Äî Security Layer

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Guardrail-as-Router –∏ Red Team —Ç–µ—Å—Ç—ã

**–ó–∞–¥–∞—á–∏:**
- –î–µ–Ω—å 1-4: –°–æ–∑–¥–∞–Ω–∏–µ Guardrail_Node
- –î–µ–Ω—å 5-7: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LangGraph
- –î–µ–Ω—å 8-10: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Promptfoo
- –î–µ–Ω—å 11-14: Red Team —Ç–µ—Å—Ç—ã –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å

### –ù–µ–¥–µ–ª—è 5-6 (2025-02-24 - 2025-03-10): Phase 4 ‚Äî PromptOps

**–¶–µ–ª—å:** –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å PromptOps pipeline

**–ó–∞–¥–∞—á–∏:**
- –î–µ–Ω—å 1-4: MLflow Prompt Registry
- –î–µ–Ω—å 5-7: Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –î–µ–Ω—å 8-10: CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- –î–µ–Ω—å 11-14: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ù–µ–¥–µ–ª—è 7-8 (2025-03-10 - 2025-03-24): Phase 5 ‚Äî Vizier's Bridge

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é ReasonGraph

**–ó–∞–¥–∞—á–∏:**
- –î–µ–Ω—å 1-4: Backend SSE endpoint
- –î–µ–Ω—å 5-8: Frontend 3D –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –î–µ–Ω—å 9-11: –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ UX –º–µ—Ç—Ä–∏–∫–∏
- –î–µ–Ω—å 12-14: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### Phase 2: LangGraph Core

- ‚úÖ –í—Å–µ —É–∑–ª—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ ReasonGraph JSON —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ MLflow —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

### Phase 3: Security Layer

- ‚úÖ Guardrail_Node –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç 99% –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ Red Team —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –û—Ç—á–µ—Ç `RedTeam_Report.json` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

### Phase 4: PromptOps

- ‚úÖ Prompt Registry —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- ‚úÖ –ê–ª–∏–∞—Å—ã `@dev`, `@staging`, `@prod` —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç

### Phase 5: Vizier's Bridge

- ‚úÖ 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å 60+ FPS
- ‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ SSE
- ‚úÖ UX –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [Implementation Plan](../cursor_task.json) ‚Äî JSON –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- [TERAG 2.1 Benchmark](../docs/TERAG_2.1_BENCHMARK.md) ‚Äî Benchmark –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Comprehensive Audit Report](../docs/COMPREHENSIVE_AUDIT_REPORT.md) ‚Äî –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-27  
**–°–ª–µ–¥—É—é—â–∏–π review:** 2025-02-10 (–ø–æ—Å–ª–µ Phase 2)










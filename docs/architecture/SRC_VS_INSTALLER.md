# üèóÔ∏è –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É src/ –∏ installer/app/

**–î–∞—Ç–∞:** 2026-01-06  
**–í–µ—Ä—Å–∏—è:** 1.0

---

## üìã –û–±–∑–æ—Ä

–í –ø—Ä–æ–µ–∫—Ç–µ TERAG —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–¥–∞:

1. **`src/`** - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **`installer/app/`** - –ö–æ–¥ –¥–ª—è Docker deployment –∏ Mission System

---

## üéØ src/ - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ api/                    # API —Å–ª–æ–π (FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ server.py           ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ terag_v2_server.py  ‚úÖ API v2.0
‚îÇ   ‚îú‚îÄ‚îÄ routes/             ‚úÖ –†–æ—É—Ç–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ middleware/         ‚úÖ Middleware
‚îú‚îÄ‚îÄ core/                   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ kag_builder.py      ‚úÖ KAG Builder
‚îÇ   ‚îú‚îÄ‚îÄ agents/             ‚úÖ Multi-agent —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ kag_solver/         ‚úÖ KAG Solver
‚îÇ   ‚îî‚îÄ‚îÄ metrics.py          ‚úÖ AI-REPS –º–µ—Ç—Ä–∏–∫–∏
‚îú‚îÄ‚îÄ components/             # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ integration/            # –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ benchmark/              # Benchmark –ø–∞–π–ø–ª–∞–π–Ω—ã
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Unit —Ç–µ—Å—Ç—ã
- ‚úÖ Benchmark —Ç–µ—Å—Ç—ã

### –ó–∞–ø—É—Å–∫

```bash
# API —Å–µ—Ä–≤–µ—Ä
uvicorn src.api.server:app --reload

# –ò–ª–∏ v2.0
uvicorn src.api.terag_v2_server:app --reload --port 8001
```

---

## üê≥ installer/app/ - Docker Deployment

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

**–ö–æ–¥ –¥–ª—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** –∏ Mission System.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
installer/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py             ‚ö†Ô∏è Mission API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ modules/            ‚ö†Ô∏è –ú–æ–¥—É–ª–∏ –¥–ª—è Mission System
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ graph_updater.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ brave_search.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bright_extractor.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile          ‚úÖ Docker –æ–±—Ä–∞–∑
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt    ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ docker-compose.yml      ‚úÖ Production deployment
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

- ‚úÖ Docker deployment
- ‚úÖ Mission System
- ‚úÖ Production environment
- ‚úÖ OSINT pipeline

### –ó–∞–ø—É—Å–∫

```bash
# –ß–µ—Ä–µ–∑ Docker
cd installer
docker-compose up -d

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
cd installer/app
python main.py
```

---

## üîç –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

### 1. API Servers

| –ê—Å–ø–µ–∫—Ç | src/api/server.py | installer/app/main.py |
|--------|-------------------|----------------------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | Production/Mission |
| **Endpoints** | –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ | Mission-specific |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** | Core –º–æ–¥—É–ª–∏ | Mission modules |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –õ–æ–∫–∞–ª—å–Ω–æ | Docker |

### 2. KAG Builder

| –ê—Å–ø–µ–∫—Ç | src/core/kag_builder.py | installer/app/modules/graph_updater.py |
|--------|-------------------------|--------------------------------------|
| **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ** | –û—Å–Ω–æ–≤–Ω–æ–π KAG Builder | Mission Graph Updater |
| **–ö–æ–Ω—Ç–µ–∫—Å—Ç** | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ | Mission System |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** | Core –º–æ–¥—É–ª–∏ | OSINT pipeline |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –ü—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç | –ß–µ—Ä–µ–∑ Mission YAML |

### 3. –ú–æ–¥—É–ª–∏

**src/core/** - –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:
- `kag_builder.py` - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞
- `metrics.py` - AI-REPS –º–µ—Ç—Ä–∏–∫–∏
- `health.py` - Health checks
- `agents/` - Multi-agent —Å–∏—Å—Ç–µ–º–∞

**installer/app/modules/** - Mission –º–æ–¥—É–ª–∏:
- `graph_updater.py` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –≤ Mission –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- `brave_search.py` - OSINT —á–µ—Ä–µ–∑ Brave Search
- `bright_extractor.py` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Bright Data
- `deepconf_validation.py` - –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ DeepConf

---

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á—Ç–æ

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `src/` –∫–æ–≥–¥–∞:

- ‚úÖ –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚úÖ –ü–∏—à–µ—Ç–µ —Ç–µ—Å—Ç—ã
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å API –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –î–µ–ª–∞–µ—Ç–µ benchmark —Ç–µ—Å—Ç—ã

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `installer/app/` –∫–æ–≥–¥–∞:

- ‚úÖ –î–µ–ø–ª–æ–∏—Ç–µ –≤ Docker
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ Mission System
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç–µ —Å OSINT pipeline
- ‚úÖ –ù—É–∂–µ–Ω production environment
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Mission YAML

---

## üîÑ –°–≤—è–∑—å –º–µ–∂–¥—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏

### –ò–º–ø–æ—Ä—Ç—ã

**installer/app/modules/** –º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ **src/**:

```python
# installer/app/modules/graph_updater.py
from src.core.graph_metrics import get_metrics  # ‚úÖ OK
```

**src/** –ù–ï –¥–æ–ª–∂–µ–Ω –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ **installer/app/**:

```python
# src/core/kag_builder.py
from installer.app.modules.graph_updater import GraphUpdater  # ‚ùå –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
```

### –û–±—â–∏–µ –º–æ–¥—É–ª–∏

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –æ–±–æ–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö:
- `src/core/metrics.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ
- `src/core/health.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ
- `src/core/kag_builder.py` - –æ—Å–Ω–æ–≤–Ω–æ–π, –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ Mission

---

## üìä –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ

- **src/** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **installer/app/** - –¥–ª—è deployment –∏ Mission System

### 2. –ò–∑–±–µ–≥–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –º–æ–¥—É–ª–∏ –∏–∑ `src/core/`
- –ù–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è

### 3. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è (–±—É–¥—É—â–µ–µ)

**–í–∞—Ä–∏–∞–Ω—Ç A:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ –æ–¥–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `installer/app/modules/` ‚Üí `src/mission/`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω API —Å–µ—Ä–≤–µ—Ä

**–í–∞—Ä–∏–∞–Ω—Ç B:** –û—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
- –ß–µ—Ç–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –º–æ–¥—É–ª–∏ –∏–∑ `src/core/`

---

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

- ‚úÖ `src/` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ `installer/app/` - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Docker
- ‚úÖ –û–±—â–∏–µ –º–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –æ–±–æ–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö

### –ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

- ‚ö†Ô∏è –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–∏—è (—ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç)
- ‚ö†Ô∏è –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ, –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –±—É–¥—É—â–µ–º

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (src/)

```python
# src/api/server.py
from src.core.kag_builder import KAGBuilder
from src.core.metrics import get_metrics_snapshot

@app.get("/api/graph")
def get_graph():
    builder = KAGBuilder()
    # ...
```

### Production (installer/app/)

```python
# installer/app/main.py
from modules.graph_updater import GraphUpdater
from modules.brave_search import BraveSearchClient

@app.post("/api/mission/run")
async def run_mission():
    updater = GraphUpdater()
    # ...
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-06

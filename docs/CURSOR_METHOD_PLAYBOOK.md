# üéØ Cursor Method Playbook –¥–ª—è TERAG

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** Production Ready  
**–ü—Ä–æ–µ–∫—Ç:** TERAG (Traceable Reasoning Architecture Graph)

---

## TL;DR

TERAG ‚Äî –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è Graph-RAG —Å–∏—Å—Ç–µ–º–∞ —Å T.R.A.C. —è–¥—Ä–æ–º. Cursor –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞, –∞—É–¥–∏—Ç–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞. **–ö—Ä–∏—Ç–∏—á–Ω–æ:** –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Agent Mode –∏ Reasoning, —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ inline edits –∏ Ask —Ä–µ–∂–∏–º. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Safe Profile, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Ollama, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RAG —á–µ—Ä–µ–∑ MCP. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∏–∑ `.cursor/terag_context.md` –∏ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ `.cursor/rules/*.mdc`.

---

## 1. –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

### 1.1 –¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞

**TERAG** ‚Äî —ç—Ç–æ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ **Graph-RAG (KAG)**:

- **Graph-RAG / KAG**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ SPO-—Ç—Ä–∏–ø–ª–µ—Ç–æ–≤, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–Ω–∞–Ω–∏–π (Neo4j)
- **T.R.A.C.**: Traceable Reasoning Architecture Core ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö reasoning steps
- **AI-REPS**: –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (RSS, COS, FAITH ‚â• 0.8)
- **Multi-Agent System**: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã (Planner, Researcher, KAG-Solver, Verifier, Writer, Critic)
- **Memory Bank**: –î–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–º—è—Ç—å –≤ `.cursor/memory_bank/`

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:**
- Backend: Python 3.11+, FastAPI, Neo4j, ChromaDB
- Frontend: TypeScript, React, Vite
- LLM: Ollama (–ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏)
- Graph: OpenSPG, NetworkX

### 1.2 –†–æ–ª—å Cursor –≤ –ø—Ä–æ–µ–∫—Ç–µ

Cursor –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º —à–∞–±–ª–æ–Ω–∞–º
2. **–ê—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞** ‚Äî –∑–∞–ø—É—Å–∫ `audit_runner.sh`, –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `docs/`, `CHANGELOG.md`, `Tasktracker.md`
4. **–ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º TERAG
5. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –∫–æ–¥–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (‚â•60% –ø–æ–∫—Ä—ã—Ç–∏–µ)

**Cursor –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:**
- ‚ùå –ê–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –ø—Ä–∏–Ω—è—Ç–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –±–µ–∑ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ùå –£–¥–∞–ª–µ–Ω–∏—è legacy –∫–æ–¥–∞ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –≥—Ä–∞—Ñ–∞ –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–Ω—Ç–æ–ª–æ–≥–∏–∏

---

## 2. –ú–æ–¥–µ–ª—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è ¬´–ß–µ–ª–æ–≤–µ–∫ ‚Üî Cursor¬ª

### 2.1 –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

#### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ–∂–∏–º—ã

1. **Ask Mode** (–æ—Å–Ω–æ–≤–Ω–æ–π)
   - –ó–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –æ –∫–æ–¥–µ
   - –ü–æ–ª—É—á–∞—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: `@local_rag search "query"` –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –∫–æ–¥—É

2. **Inline Edits** (–¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –≤ –º–æ–¥—É–ª–∏
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
   - **–í–∞–∂–Ω–æ:** –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ `.cursor/rules/*.mdc`

3. **Code Generation** (–¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π)
   - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö Python –º–æ–¥—É–ª–µ–π –ø–æ —à–∞–±–ª–æ–Ω—É –∏–∑ `.cursor/terag_context.md`
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Mission YAML —Ñ–∞–π–ª–æ–≤
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

#### ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã

1. **Agent Mode** ‚Äî –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
   - –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ Ask Mode

2. **Reasoning / Reasoning Summary** ‚Äî –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
   - –ü—Ä–∏—á–∏–Ω–∞: –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å T.R.A.C. reasoning engine
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π Ollama –¥–ª—è reasoning

3. **–ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –ü—Ä–∏—á–∏–Ω–∞: —Ä–∏—Å–∫ –Ω–∞—Ä—É—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –≤—Å–µ–≥–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Cursor

#### Safe Profile (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

**–§–∞–π–ª:** `CURSOR_SETUP_README.md`, `CURSOR_OLLAMA_SETUP.md`

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**

1. **AI Models:**
   ```
   Provider: OpenAI
   Base URL: http://localhost:11434/v1
   API Key: ollama
   Model: deepseek-coder (–¥–ª—è –∫–æ–¥–∞) –∏–ª–∏ qwen2.5:7b-instruct (–¥–ª—è reasoning)
   ```

2. **MCP Servers:**
   ```
   Name: local_rag
   Command: python
   Args: ask_rag.py
   ```

3. **–û—Ç–∫–ª—é—á–∏—Ç—å:**
   - ‚ùå Agent Mode
   - ‚ùå Reasoning Summary
   - ‚ùå Auto-apply changes

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `cursor_config.json` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `cursor_ollama_config.json` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Ollama
- `.cursor/rules/*.mdc` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è)

### 2.3 –ì—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç—ã Cursor

**Cursor –î–û–õ–ñ–ï–ù:**
- ‚úÖ –°–ª–µ–¥–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∏–∑ `.cursor/terag_context.md`
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞ –∏–∑ —Å–µ–∫—Ü–∏–∏ "Code Generation Patterns"
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º –∏–∑ `.cursor/rules/*.mdc`
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ trace_id
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—Ç—å reasoning traces –≤ Memory Bank

**Cursor –ù–ï –î–û–õ–ñ–ï–ù:**
- ‚ùå –ò–∑–º–µ–Ω—è—Ç—å —Å—Ö–µ–º—É Neo4j –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–Ω—Ç–æ–ª–æ–≥–∏–∏
- ‚ùå –£–¥–∞–ª—è—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ trace_id
- ‚ùå –ù–∞—Ä—É—à–∞—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤ (API ‚Üî Business Logic ‚Üî Data)
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚ùå –ò–∑–º–µ–Ω—è—Ç—å confidence thresholds –±–µ–∑ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è

---

## 3. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏

### 3.1 Best Practices (—á—Ç–æ –¥–æ–∫–∞–∑–∞–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)

#### ‚úÖ Audit-Driven Development

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `AUDIT_SPEC.md`, `audit_runner.sh`

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
1. –ü–µ—Ä–µ–¥ –±–æ–ª—å—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å `audit_runner.sh`
2. –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç—ã –≤ `audit_reports/`
3. –ò—Å–ø—Ä–∞–≤–ª—è—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º

**–ü—Ä–∏–º–µ—Ä:**
```bash
# –ó–∞–ø—É—Å–∫ –∞—É–¥–∏—Ç–∞ —É—Ä–æ–≤–Ω—è L2
./audit_runner.sh
# –ê–Ω–∞–ª–∏–∑ –æ—Ç—á–µ—Ç–∞
cat audit_reports/YYYY-MM-DD_HH-MM-SS/final_audit_summary.md
```

#### ‚úÖ Diagnostics-First Approach

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `scripts/diagnostics/check_env.py`, `scripts/diagnostics/check_terag_full_stack.py`

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
1. –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã (Neo4j, Ollama, ChromaDB)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é RAG

**–ü—Ä–∏–º–µ—Ä:**
```bash
python scripts/diagnostics/check_env_simple.py
python scripts/diagnostics/check_terag_full_stack.py
```

#### ‚úÖ Spec-Driven Code Generation

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `.cursor/terag_context.md`, —Å–µ–∫—Ü–∏—è "Code Generation Patterns"

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –∏–∑ `terag_context.md` –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π
2. –í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å trace_id
3. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å confidence –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö

**–®–∞–±–ª–æ–Ω Python –º–æ–¥—É–ª—è:**
```python
"""
Module: [module_name]
Purpose: [–æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è]
Integration: [—Å–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏]
"""

import logging
from typing import Dict, Any, Optional
from datetime import datetime

logger = logging.getLogger(__name__)

class ModuleName:
    def __init__(self, config: Dict[str, Any]):
        self.config = config
        self.confidence_threshold = config.get('confidence_threshold', 0.6)
        logger.info(f"Initialized {self.__class__.__name__}")
    
    def process(self, data: Dict[str, Any]) -> Dict[str, Any]:
        # –í–∞–ª–∏–¥–∞—Ü–∏—è confidence
        if data.get('confidence', 0) < self.confidence_threshold:
            logger.warning(f"Low confidence: {data.get('confidence')}")
            return {'status': 'quarantine', 'data': data}
        # ... –æ–±—Ä–∞–±–æ—Ç–∫–∞
```

#### ‚úÖ Memory Bank Integration

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `.cursor/memory_bank/`, `decisions.md`

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
1. –í—Å–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ `decisions.md`
2. Reasoning traces —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ `reasoning_audit.md`
3. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ—à–∏–±–æ–∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

#### ‚úÖ Safe Mode –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `SECURITY.md`, `README.md`

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SAFE_MODE=true` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ whitelist –¥–æ–º–µ–Ω–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞—É–¥–∏—Ç–∞

### 3.2 Anti-Patterns (—á—Ç–æ –ª–æ–º–∞–ª–æ—Å—å –∏ –ø–æ—á–µ–º—É)

#### ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–µ–≤

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `docs/ARCHITECTURE_REVIEW_PHASE5.md`, —Å–µ–∫—Ü–∏—è "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è"

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –≤–Ω—É—Ç—Ä–∏ route handler
from src.core.agents.langgraph_integration import TERAGLangGraphIntegration
integration = TERAGLangGraphIntegration(enable_guardrail=True)
graph = integration.state_graph
```

**–ü–æ—á–µ–º—É –ª–æ–º–∞–µ—Ç—Å—è:**
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: Dependency injection
from src.core.agents.langgraph_integration import get_terag_graph

@router.get("/reasoning")
async def stream_reasoning(
    query: str,
    graph: TERAGStateGraph = Depends(get_terag_graph),
):
```

#### ‚ùå –û–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `docs/ARCHITECTURE_REVIEW_PHASE5.md`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –û–±—â–∏–π Exception
except Exception as e:
    logger.error(f"Error: {e}")
```

**–ü–æ—á–µ–º—É –ª–æ–º–∞–µ—Ç—Å—è:**
- –£—Ç–µ—á–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è retry —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
from src.core.exceptions import TERAGError, StreamError, GraphError

except GraphError as e:
    logger.error(f"Graph error: {e}", exc_info=True)
except StreamError as e:
    logger.warning(f"Stream error: {e}")
except Exception as e:
    logger.critical(f"Unexpected error: {e}", exc_info=True)
```

#### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ confidence

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `.cursor/terag_context.md`, —Å–µ–∫—Ü–∏—è "Operating Protocol"

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å `confidence < 0.6` –±–µ–∑ –∫–∞—Ä–∞–Ω—Ç–∏–Ω–∞
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –≤ –≥—Ä–∞—Ñ

**–†–µ—à–µ–Ω–∏–µ:**
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å `confidence >= threshold` –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- –î–∞–Ω–Ω—ã–µ —Å –Ω–∏–∑–∫–∏–º confidence –ø–æ–º–µ—â–∞—Ç—å –≤ quarantine

#### ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ UI —Å—Ç—Ä—É–∫—Ç—É—Ä

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `docs/COMPREHENSIVE_AUDIT_REPORT.md`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `src/` –∏ `app/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –°–º–µ—à–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Vite –∏ Next.js

**–†–µ—à–µ–Ω–∏–µ:**
- –í—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (Vite –¥–ª—è TERAG)
- –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

#### ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Agent Mode

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –æ–ø—ã—Ç (–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –Ω–æ –∫—Ä–∏—Ç–∏—á–µ–Ω)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ask Mode + Inline Edits
- –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

### 3.3 –°—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

**Best Practices:**
- `.cursor/terag_context.md` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —à–∞–±–ª–æ–Ω—ã
- `.cursor/rules/base-guidelines.mdc` ‚Äî –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- `.cursor/rules/architecture.mdc` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
- `AUDIT_SPEC.md` ‚Äî –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –∞—É–¥–∏—Ç–∞
- `CURSOR_SETUP_README.md` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Cursor

**Anti-Patterns:**
- `docs/ARCHITECTURE_REVIEW_PHASE5.md` ‚Äî –ø—Ä–∏–º–µ—Ä—ã –Ω–∞—Ä—É—à–µ–Ω–∏–π
- `docs/COMPREHENSIVE_AUDIT_REPORT.md` ‚Äî –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- `docs/TECHNICAL_AUDIT.md` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

---

## 4. –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞

### –®–∞–≥ 0 ‚Äî –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Cursor

#### 0.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `.cursor/rules/*.mdc` –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `.cursor/terag_context.md`
3. –û—Ç–∫—Ä—ã—Ç—å `CURSOR_SETUP_README.md` –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É .cursor/
ls -la .cursor/rules/
ls -la .cursor/memory_bank/
```

#### 0.2 –í–∫–ª—é—á–µ–Ω–∏–µ Safe Profile

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–∫—Ä—ã—Ç—å Cursor Settings (`Ctrl+,`)
2. AI Models ‚Üí Add Custom Model:
   - Provider: `OpenAI`
   - Base URL: `http://localhost:11434/v1`
   - API Key: `ollama`
   - Model: `deepseek-coder`
3. MCP Servers ‚Üí Add Server:
   - Name: `local_rag`
   - Command: `python`
   - Args: `ask_rag.py`
4. –û—Ç–∫–ª—é—á–∏—Ç—å:
   - ‚ùå Agent Mode
   - ‚ùå Reasoning Summary
   - ‚ùå Auto-apply changes

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Ollama
curl http://localhost:11434

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RAG
python ask_rag.py "test query"
```

#### 0.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
python check_terag_full_stack.py

# –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
python check_env_simple.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ RAG –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
python ask_rag.py --stats
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Neo4j –¥–æ—Å—Ç—É–ø–µ–Ω (–ø–æ—Ä—Ç 7474, 7687)
- ‚úÖ Ollama –∑–∞–ø—É—â–µ–Ω (–ø–æ—Ä—Ç 11434)
- ‚úÖ ChromaDB –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

### –®–∞–≥ 1 ‚Äî –ü–µ—Ä–≤–∏—á–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è

#### 1.1 –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

**–ü–æ—Ä—è–¥–æ–∫ —á—Ç–µ–Ω–∏—è:**

1. **`.cursor/terag_context.md`** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
   - –°–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç TERAG
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
   - –®–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞
   - Mission YAML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

2. **`.cursor/memory_bank/project_overview.md`** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
   - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
   - –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

3. **`README.md`** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
   - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
   - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

4. **`docs/Project.md`** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4)
   - Mission –ø—Ä–æ–µ–∫—Ç–∞
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
   - Traceability

5. **`.cursor/rules/*.mdc`** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5)
   - `base-guidelines.mdc` ‚Äî –æ–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
   - `architecture.mdc` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
   - `governance.mdc` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
   - `security.mdc` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
   - `test-quality.mdc` ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 1.2 –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏

**–ó–∞–¥–∞—Ç—å Cursor —á–µ—Ä–µ–∑ Ask Mode:**

1. "–û–±—ä—è—Å–Ω–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É TERAG –∏ —Ä–æ–ª—å Graph-RAG"
2. "–ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∏ –∫–∞–∫ –æ–Ω–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç?"
3. "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–æ–¥ –¥–ª—è [–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å]?"
4. "–ö–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ `.cursor/rules/` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ [—Ç–∏–ø –∑–∞–¥–∞—á–∏]?"

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RAG –ø–æ–∏—Å–∫:**
```
@local_rag search "Graph-RAG architecture"
@local_rag search "KAG-Solver implementation"
@local_rag search "Mission YAML structure"
```

### –®–∞–≥ 2 ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤–∏–ª –ø–æ–¥ –ø—Ä–æ–µ–∫—Ç

#### 2.1 –ö–∞–∫–∏–µ `.mdc` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

**–í—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**
- `.cursor/rules/base-guidelines.mdc` ‚Äî –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- `.cursor/rules/architecture.mdc` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `.cursor/rules/governance.mdc` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `.cursor/rules/security.mdc` ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- `.cursor/rules/test-quality.mdc` ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `.cursor/rules/performance.mdc` ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:**
- `.cursor/terag_context.md` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Å—Å—ã–ª–∞—Ç—å—Å—è —è–≤–Ω–æ)

#### 2.2 –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª

**–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞:**
- `base-guidelines.mdc` ‚Äî –æ–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- `architecture.mdc` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
- `terag_context.md` ‚Äî —à–∞–±–ª–æ–Ω—ã –∫–æ–¥–∞

**–î–ª—è –∞—É–¥–∏—Ç–∞:**
- `governance.mdc` ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
- `security.mdc` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- `test-quality.mdc` ‚Äî –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

**–î–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- `architecture.mdc` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü —Å–ª–æ–µ–≤
- `performance.mdc` ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –®–∞–≥ 3 ‚Äî –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã

#### 3.1 –ê—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
# –ó–∞–ø—É—Å–∫ –∞—É–¥–∏—Ç–∞ —É—Ä–æ–≤–Ω—è L2 (1-2 —á–∞—Å–∞)
./audit_runner.sh

# –ê–Ω–∞–ª–∏–∑ –æ—Ç—á–µ—Ç–∞
cat audit_reports/YYYY-MM-DD_HH-MM-SS/final_audit_summary.md
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Cursor:**
1. –û—Ç–∫—Ä—ã—Ç—å –æ—Ç—á–µ—Ç –∞—É–¥–∏—Ç–∞
2. –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã: "–ö–∞–∫–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞–π–¥–µ–Ω—ã?"
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø–æ—à–∞–≥–æ–≤–æ —á–µ—Ä–µ–∑ Inline Edits
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞—É–¥–∏—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**
- Coverage ‚â• 60% –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
- Security issues < 5
- Architecture score ‚â• 0.8

#### 3.2 –°–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Cursor

**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ Cursor –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Ollama:
   ```
   –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å: "–ü—Ä–∏–≤–µ—Ç, –º–æ–∂–µ—à—å –æ—Ç–≤–µ—Ç–∏—Ç—å?"
   ```
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RAG –ø–æ–∏—Å–∫:
   ```
   @local_rag search "loadGraph function"
   ```
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∞–≤–∏–ª:
   ```
   "–ö–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ .cursor/rules/ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Python –º–æ–¥—É–ª–µ–π?"
   ```

**–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**
- Ollama –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç ‚Üí –∑–∞–ø—É—Å—Ç–∏—Ç—å `ollama serve`
- RAG –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `python ask_rag.py --stats`
- –ü—Ä–∞–≤–∏–ª–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã ‚Üí –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Cursor

#### 3.3 –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–æ–¥–µ–ª–µ–π/–∫–ª—é—á–µ–π

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å LLM –º–æ–¥–µ–ª–µ–π

**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏
ollama list

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å
ollama run deepseek-coder "print('hello')"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ Python
python -c "import requests; print(requests.get('http://localhost:11434/api/tags').json())"
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Cursor:**
- –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å —á–µ—Ä–µ–∑ Ask Mode
- –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–¥–µ–ª—å –≤ Ollama
- –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí `ollama pull deepseek-coder`

#### 3.4 –†–∞–±–æ—Ç–∞ —Å –∫–æ–¥–æ–º –±–µ–∑ Agent Mode

**–¶–µ–ª—å:** –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   ```
   –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å: "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å [—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å] –≤ TERAG?"
   ```

2. **–ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
   ```
   @local_rag search "[–º–æ–¥—É–ª—å] dependencies"
   ```

3. **–°–æ–∑–¥–∞–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Inline Edits –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Code Generation –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π
   - –°–ª–µ–¥–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω–∞–º –∏–∑ `terag_context.md`

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
   ```bash
   # –õ–∏–Ω—Ç–∏–Ω–≥
   ruff check src/
   
   # –¢–µ—Å—Ç—ã
   pytest tests/ -v
   
   # –¢–∏–ø—ã
   mypy src/
   ```

5. **–ö–æ–º–º–∏—Ç:**
   - –û–±–Ω–æ–≤–∏—Ç—å `CHANGELOG.md`
   - –û–±–Ω–æ–≤–∏—Ç—å `Tasktracker.md` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
   - –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å —Å –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º

### –®–∞–≥ 4 ‚Äî –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

#### 4.1 –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è Cursor

**–ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:**

- [ ] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç —à–∞–±–ª–æ–Ω–∞–º –∏–∑ `terag_context.md`
- [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç `.cursor/rules/*.mdc`
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å trace_id
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è confidence –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ (–Ω–µ –æ–±—â–∏–π Exception)
- [ ] –¢–µ—Å—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã (‚â•60% –ø–æ–∫—Ä—ã—Ç–∏–µ)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```bash
# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint
ruff check src/

# –¢–µ—Å—Ç—ã
npm run test
pytest tests/ -v --cov=src

# –¢–∏–ø—ã
npm run type-check
mypy src/
```

#### 4.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

**–í–æ–ø—Ä–æ—Å—ã –¥–ª—è Cursor:**
1. "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —ç—Ç–æ—Ç –∫–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º TERAG?"
2. "–ù–∞—Ä—É—à–∞–µ—Ç –ª–∏ —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤?"
3. "–ï—Å—Ç—å –ª–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?"

**–†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pydeps --show-dot src/ > deps.dot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
grep -r "from src" src/ | grep -v "__pycache__"
```

### –®–∞–≥ 5 ‚Äî –§–∏–∫—Å–∞—Ü–∏—è –æ–ø—ã—Ç–∞

#### 5.1 –ß—Ç–æ –æ–±–Ω–æ–≤–ª—è—Ç—å

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã:**
1. **`.cursor/memory_bank/decisions.md`** ‚Äî –µ—Å–ª–∏ –ø—Ä–∏–Ω—è—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
2. **`.cursor/memory_bank/reasoning_audit.md`** ‚Äî –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –æ—à–∏–±–∫–∏
3. **`docs/CURSOR_METHOD_PLAYBOOK.md`** ‚Äî –µ—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –Ω–æ–≤—ã–π anti-pattern
4. **`CHANGELOG.md`** ‚Äî –¥–ª—è –∑–Ω–∞—á–∏–º—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. **`Tasktracker.md`** ‚Äî –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–¥–∞—á

**–ü–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏:**
1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤ `reasoning_audit.md`
2. –î–æ–±–∞–≤–∏—Ç—å anti-pattern –≤ —ç—Ç–æ—Ç playbook
3. –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤ `.cursor/rules/` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

#### 5.2 –§–æ—Ä–º–∞—Ç —Ñ–∏–∫—Å–∞—Ü–∏–∏

**–î–ª—è —Ä–µ—à–µ–Ω–∏–π:**
```markdown
## ADR-XXX: [–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è]

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∏–Ω—è—Ç–æ / ‚ö†Ô∏è –û—Ç–∫–ª–æ–Ω–µ–Ω–æ  
**–î–∞—Ç–∞:** YYYY-MM-DD  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** [–ü—Ä–æ–±–ª–µ–º–∞]  
**–†–µ—à–µ–Ω–∏–µ:** [–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ]  
**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** [–ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã]
```

**–î–ª—è anti-patterns:**
```markdown
#### ‚ùå [–ù–∞–∑–≤–∞–Ω–∏–µ anti-pattern]

**–ò—Å—Ç–æ—á–Ω–∏–∫:** [–§–∞–π–ª/–¥–æ–∫—É–º–µ–Ω—Ç]  
**–ü—Ä–æ–±–ª–µ–º–∞:** [–ß—Ç–æ –ª–æ–º–∞–µ—Ç—Å—è]  
**–ü–æ—á–µ–º—É –ª–æ–º–∞–µ—Ç—Å—è:** [–ü—Ä–∏—á–∏–Ω–∞]  
**–†–µ—à–µ–Ω–∏–µ:** [–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å]
```

---

## 5. –£—Å—Ç–æ–π—á–∏–≤—ã–µ –ø—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω—ã

### 5.1 –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

#### –®–∞–±–ª–æ–Ω: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–¢–µ–∫—Å—Ç:**
```
–ü—Ä–æ–≤–µ—Ä—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ TERAG:
1. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Neo4j (–ø–æ—Ä—Ç 7474, 7687)
2. –ó–∞–ø—É—â–µ–Ω –ª–∏ Ollama (–ø–æ—Ä—Ç 11434)
3. –ü—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω –ª–∏ RAG (ChromaDB)
4. –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–µ–¥–ª–æ–∂–∏ —Ä–µ—à–µ–Ω–∏—è.
```

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**
- –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–∏ —Å—Ç—Ä–∞–Ω–Ω–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å:**
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- ‚ùå –ò–∑–º–µ–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞

#### –®–∞–±–ª–æ–Ω: –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–æ–¥—É–ª—è

**–¢–µ–∫—Å—Ç:**
```
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –º–æ–¥—É–ª—å [–ø—É—Ç—å –∫ —Ñ–∞–π–ª—É]:
1. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –æ–Ω –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º TERAG?
2. –°–æ–±–ª—é–¥–∞–µ—Ç –ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤?
3. –ï—Å—Ç—å –ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å trace_id?
4. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏?
5. –ï—Å—Ç—å –ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è confidence –¥–ª—è –¥–∞–Ω–Ω—ã—Ö?

–ü—Ä–µ–¥–ª–æ–∂–∏ —É–ª—É—á—à–µ–Ω–∏—è –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.
```

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**
- –ü–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º
- –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è
- –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å:**
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- ‚ùå –£–¥–∞–ª—è—Ç—å legacy –∫–æ–¥ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 5.2 –ê—É–¥–∏—Ç

#### –®–∞–±–ª–æ–Ω: –ó–∞–ø—É—Å–∫ –∞—É–¥–∏—Ç–∞ –∏ –∞–Ω–∞–ª–∏–∑

**–¢–µ–∫—Å—Ç:**
```
–ó–∞–ø—É—Å—Ç–∏ –∞—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞ TERAG:
1. –í—ã–ø–æ–ª–Ω–∏ audit_runner.sh
2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ—Ç—á–µ—Ç –≤ audit_reports/
3. –í—ã–¥–µ–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
4. –ü—Ä–µ–¥–ª–æ–∂–∏ –ø–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

–ù–µ –∏—Å–ø—Ä–∞–≤–ª—è–π –ø—Ä–æ–±–ª–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–ª–æ–∂–∏ –ø–ª–∞–Ω.
```

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**
- –ü–µ—Ä–µ–¥ –±–æ–ª—å—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ (—Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü)
- –ü–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å:**
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚ùå –ò–∑–º–µ–Ω—è—Ç—å –∫–æ–¥ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

### 5.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cursor

#### –®–∞–±–ª–æ–Ω: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–¢–µ–∫—Å—Ç:**
```
–ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Cursor –¥–ª—è TERAG:
1. –ü–æ–¥–∫–ª—é—á–µ–Ω –ª–∏ Ollama (http://localhost:11434/v1)?
2. –ù–∞—Å—Ç—Ä–æ–µ–Ω –ª–∏ MCP —Å–µ—Ä–≤–µ—Ä local_rag?
3. –û—Ç–∫–ª—é—á–µ–Ω –ª–∏ Agent Mode?
4. –ó–∞–≥—Ä—É–∂–µ–Ω—ã –ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ .cursor/rules/?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ, –¥–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ.
```

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Cursor
- –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å:**
- ‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Cursor
- ‚ùå –í–∫–ª—é—á–∞—Ç—å Agent Mode –∏–ª–∏ Reasoning

### 5.4 –†–∞–±–æ—Ç–∞ —Å –∫–æ–¥–æ–º/–∞–Ω–∞–ª–∏–∑

#### –®–∞–±–ª–æ–Ω: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è

**–¢–µ–∫—Å—Ç:**
```
–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Python –º–æ–¥—É–ª—å [–Ω–∞–∑–≤–∞–Ω–∏–µ] –¥–ª—è TERAG:
1. –ò—Å–ø–æ–ª—å–∑—É–π —à–∞–±–ª–æ–Ω –∏–∑ .cursor/terag_context.md
2. –î–æ–±–∞–≤—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å trace_id
3. –í–∞–ª–∏–¥–∞—Ü–∏—é confidence –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
4. –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ src.core.exceptions
5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ [—Å–ø–∏—Å–æ–∫]

–ù–µ —Å–æ–∑–¥–∞–≤–∞–π —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –ø–æ–∫–∞–∂–∏ –∫–æ–¥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.
```

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
- –ü—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å:**
- ‚ùå –°–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- ‚ùå –ù–∞—Ä—É—à–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã
- ‚ùå –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é

#### –®–∞–±–ª–æ–Ω: –ü–æ–∏—Å–∫ –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ

**–¢–µ–∫—Å—Ç:**
```
–ù–∞–π–¥–∏ –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ TERAG:
- [–æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏]
- –ò—Å–ø–æ–ª—å–∑—É–π @local_rag search –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ü–æ–∫–∞–∂–∏ –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –º–µ—Å—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- –û–±—ä—è—Å–Ω–∏ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:**
- –ü—Ä–∏ –∏–∑—É—á–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- –ü—Ä–∏ –ø–æ–∏—Å–∫–µ –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ß—Ç–æ –ù–ï –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å:**
- ‚ùå –ò–∑–º–µ–Ω—è—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ–¥ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞
- ‚ùå –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## 6. –ê–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –≥—Ä–∞–±–ª–∏

### 6.1 –ì–¥–µ –∏ –ø–æ—á–µ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Å–±–æ–∏

#### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü

**–ì–¥–µ:** API routes —Å–æ–∑–¥–∞—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –Ω–∞–ø—Ä—è–º—É—é

**–ü–æ—á–µ–º—É:**
- Cursor –≤ Agent Mode –ø—ã—Ç–∞–µ—Ç—Å—è "—É–ø—Ä–æ—Å—Ç–∏—Ç—å" –∫–æ–¥
- –ù–µ–ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–ª–æ–µ–≤
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏–∑ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

**–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å:**
- –ò–º–ø–æ—Ä—Ç—ã –∏–∑ `src.core.*` –≤ `src.api.routes.*`
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ route handlers
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ dependency injection

**–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å:**
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dependency injection
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–±—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∏–º–ø–æ—Ä—Ç—ã –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `docs/ARCHITECTURE_REVIEW_PHASE5.md`

#### –ü—Ä–æ–±–ª–µ–º–∞ 2: –û–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ì–¥–µ:** `except Exception as e:` –±–µ–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏

**–ü–æ—á–µ–º—É:**
- –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –±–µ–∑ –∞–¥–∞–ø—Ç–∞—Ü–∏–∏

**–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å:**
- –û–±—â–∏–π `Exception` –≤–º–µ—Å—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `exc_info=True` –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- –£—Ç–µ—á–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏–∑ `src.core.exceptions`
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å `exc_info=True` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `docs/ARCHITECTURE_REVIEW_PHASE5.md`

#### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ confidence

**–ì–¥–µ:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –≥—Ä–∞—Ñ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–ü–æ—á–µ–º—É:**
- –ó–∞–±—ã–≤–∞–Ω–∏–µ –ø—Ä–æ confidence threshold
- –§–æ–∫—É—Å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –∞ –Ω–µ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã—Ö

**–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å:**
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ `confidence >= threshold`
- –î–∞–Ω–Ω—ã–µ —Å `confidence < 0.6` –ø–æ–ø–∞–¥–∞—é—Ç –≤ –≥—Ä–∞—Ñ
- –ù–µ—Ç –∫–∞—Ä–∞–Ω—Ç–∏–Ω–∞ –¥–ª—è –Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å:**
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å confidence –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `confidence_threshold` –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
- –ü–æ–º–µ—â–∞—Ç—å –Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ quarantine

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `.cursor/terag_context.md`, —Å–µ–∫—Ü–∏—è "Operating Protocol"

#### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Agent Mode

**–ì–¥–µ:** –í–µ–∑–¥–µ, –≥–¥–µ –≤–∫–ª—é—á–µ–Ω Agent Mode

**–ü–æ—á–µ–º—É:**
- –ö–∞–∂–µ—Ç—Å—è —É–¥–æ–±–Ω—ã–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –ù–µ–ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∏—Å–∫–æ–≤

**–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å:**
- –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å:**
- –í—Å–µ–≥–¥–∞ –æ—Ç–∫–ª—é—á–∞—Ç—å Agent Mode
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ask Mode + Inline Edits
- –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –æ–ø—ã—Ç –ø—Ä–æ–µ–∫—Ç–∞

#### –ü—Ä–æ–±–ª–µ–º–∞ 5: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ UI —Å—Ç—Ä—É–∫—Ç—É—Ä

**–ì–¥–µ:** –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `src/` –∏ `app/`

**–ü–æ—á–µ–º—É:**
- –ú–∏–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏
- –ù–µ–ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

**–ö–∞–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å:**
- –î–≤–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–æ—Ö–æ–∂–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
- –°–º–µ—à–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Vite + Next.js)
- –ü—É—Ç–∞–Ω–∏—Ü–∞ –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö

**–û–±—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å:**
- –í—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (Vite –¥–ª—è TERAG)
- –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `docs/COMPREHENSIVE_AUDIT_REPORT.md`

### 6.2 –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–±—Ö–æ–¥–Ω—ã–µ –ø—É—Ç–∏ (workarounds)

#### Workaround 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

**–ü—Ä–æ–±–ª–µ–º–∞:** Cursor –º–æ–∂–µ—Ç –≤–Ω–µ—Å—Ç–∏ –Ω–µ–∑–∞–º–µ—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git diff

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–Ω—Ç–∏–Ω–≥
ruff check src/
npm run lint

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
pytest tests/ -v
```

#### Workaround 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAG –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** Cursor –Ω–µ –≤—Å–µ–≥–¥–∞ –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
```
–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @local_rag search –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞:
@local_rag search "similar functionality"
@local_rag search "architectural patterns"
```

#### Workaround 3: –ü–æ—à–∞–≥–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ–ª—å—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

**–†–µ—à–µ–Ω–∏–µ:**
1. –†–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏
2. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —à–∞–≥ –æ—Ç–¥–µ–ª—å–Ω–æ
3. –ö–æ–º–º–∏—Ç–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —à–∞–≥–∞

---

## 7. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ ¬´–Ω–∞ –±—É–¥—É—â–µ–µ —è¬ª

### 7.1 –ß—Ç–æ –∏–∑–±–µ–≥–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å

1. **Agent Mode** ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∫–ª—é—á–∞—Ç—å
2. **Reasoning Summary** ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å T.R.A.C.
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏** ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å diff
4. **–ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü** ‚Äî —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é —Å–ª–æ–µ–≤
5. **–û–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
6. **–ü—Ä–æ–ø—É—Å–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ confidence** ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

### 7.2 –ß—Ç–æ –¥–µ–ª–∞—Ç—å –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º

1. **–ò–∑—É—á–∏—Ç—å `.cursor/terag_context.md`** ‚Äî –ø–æ–Ω—è—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Safe Profile** ‚Äî Ollama + MCP RAG, –æ—Ç–∫–ª—é—á–∏—Ç—å Agent Mode
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ** ‚Äî `python check_terag_full_stack.py`
4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞—É–¥–∏—Ç** ‚Äî `./audit_runner.sh` –¥–ª—è –±–∞–∑–æ–≤–æ–π –ª–∏–Ω–∏–∏
5. **–ò–∑—É—á–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** ‚Äî —á–µ—Ä–µ–∑ `@local_rag search` –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
6. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞** ‚Äî —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `.cursor/rules/*.mdc` –∑–∞–≥—Ä—É–∂–µ–Ω—ã

### 7.3 –ì–¥–µ —Å–º–æ—Ç—Ä–µ—Ç—å, –µ—Å–ª–∏ Cursor –≤–µ–¥—ë—Ç —Å–µ–±—è —Å—Ç—Ä–∞–Ω–Ω–æ

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Ollama –≤ Cursor Settings
   - MCP —Å–µ—Ä–≤–µ—Ä local_rag
   - –û—Ç–∫–ª—é—á–µ–Ω –ª–∏ Agent Mode

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```bash
   python check_env_simple.py
   curl http://localhost:11434
   python ask_rag.py --stats
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞:**
   - –ó–∞–≥—Ä—É–∂–µ–Ω—ã –ª–∏ `.cursor/rules/*.mdc`
   - –ï—Å—Ç—å –ª–∏ `.cursor/terag_context.md`

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
   - Cursor logs (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
   - –õ–æ–≥–∏ Ollama
   - –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:**
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Cursor
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Ollama: `ollama serve`
   - –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å RAG: `python index_codebase.py --reset`

---

## 8. –ó–æ–ª–æ—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Agent Mode** ‚Äî —Ç–æ–ª—å–∫–æ Ask Mode + Inline Edits
2. **–í—Å–µ–≥–¥–∞ —Å–ª–µ–¥–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º** ‚Äî –∏–∑ `.cursor/terag_context.md` –∏ `.cursor/rules/architecture.mdc`
3. **–í—Å–µ–≥–¥–∞ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å confidence** ‚Äî –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ –≥—Ä–∞—Ñ
4. **–í—Å–µ–≥–¥–∞ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å trace_id** ‚Äî –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏
5. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** ‚Äî —á–µ—Ä–µ–∑ `src.core.exceptions`
6. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º** ‚Äî `git diff`, –ª–∏–Ω—Ç–∏–Ω–≥, —Ç–µ—Å—Ç—ã
7. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RAG –ø–æ–∏—Å–∫** ‚Äî `@local_rag search` –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞

---

## 9. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ

### 9.1 –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

- ‚ùå `AGENTS.md` ‚Äî –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ
- ‚ùå `CURSOR_SAFE_PROFILE.md` ‚Äî –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ `CURSOR_SETUP_README.md`)
- ‚ùå `SELF_DIAGNOSTIC*.md` ‚Äî –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–µ—Å—Ç—å `check_*.py` —Å–∫—Ä–∏–ø—Ç—ã)

### 9.2 –î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

1. **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ Cursor:**
   - –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∞ –æ—à–∏–±–æ–∫ Cursor
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Å–æ–∑–¥–∞—Ç—å `.cursor/memory_bank/cursor_errors.md`

2. **–ü–∞—Ç—Ç–µ—Ä–Ω—ã —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤:**
   - –ù–µ—Ç –±–∞–∑—ã —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Å–æ–±–∏—Ä–∞—Ç—å –≤ `.cursor/memory_bank/successful_prompts.md`

3. **–ú–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Cursor:**
   - –ù–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å –≤ `.cursor/metrics/cursor-metrics.json`

---

## 10. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ç–æ–≥–æ playbook

### 10.1 –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å

- –ü–æ—Å–ª–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ anti-pattern
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª –≤ `.cursor/rules/`

### 10.2 –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å

1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å–µ–∫—Ü–∏—é
2. –£–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ (—Ñ–∞–π–ª/–¥–æ–∫—É–º–µ–Ω—Ç)
3. –ü—Ä–∏–≤–µ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
4. –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—É –∏ –≤–µ—Ä—Å–∏—é –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-27  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-27  
**–ê–≤—Ç–æ—Ä:** –°–æ–±—Ä–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ TERAG







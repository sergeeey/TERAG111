# Hybrid GraphRAG Configuration
# Агентный router между Vector-RAG и Graph-RAG

pipeline:
  name: "hybrid_rag"
  type: "hybrid"
  
router:
  type: "agent_router"
  strategy: "llm_based"
  confidence_threshold: 0.7
  
vector_retriever:
  type: "chromadb"
  collection_name: "terag_documents"
  embedding_model: "sentence-transformers/all-MiniLM-L6-v2"
  top_k: 3
  
graph_retriever:
  type: "neo4j"
  uri: "bolt://localhost:7687"
  database: "neo4j"
  max_hops: 3
  top_k: 3
  
fusion:
  strategy: "reciprocal_rank_fusion"
  weights:
    vector: 0.4
    graph: 0.6
  
reader:
  type: "haystack_reader"
  model: "deepset/roberta-base-squad2"
  max_length: 512
  
llm:
  provider: "ollama"
  model: "mistral:latest"
  temperature: 0.1
  max_tokens: 500

data:
  source: "data/processed/"
  format: "txt"
  
evaluation:
  metrics:
    - faithfulness
    - context_precision
    - context_recall
    - answer_relevancy
  target_scores:
    faithfulness: 0.90
    context_precision: 0.85
    context_recall: 0.90
    answer_relevancy: 0.95










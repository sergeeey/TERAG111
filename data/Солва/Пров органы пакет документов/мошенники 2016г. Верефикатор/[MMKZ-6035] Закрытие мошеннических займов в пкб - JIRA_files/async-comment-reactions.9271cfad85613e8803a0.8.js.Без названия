try{window.performance.mark("async-comment-reactions.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{"./node_modules/@atlaskit/icon/glyph/editor/more.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/react/index.js")),i=r(n("./node_modules/@atlaskit/icon/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var a=function(e){return o.default.createElement(i.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M12 14a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm-4.5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm9 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))};a.displayName="EditorMoreIcon";var c=a;t.default=c},"./node_modules/@atlaskit/icon/glyph/emoji-add.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("./node_modules/react/index.js")),i=r(n("./node_modules/@atlaskit/icon/cjs/components/Icon.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var a=function(e){return o.default.createElement(i.default,s({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><path d="M8.049 14.197c-.166-.476.103-.991.602-1.15.5-.159 1.039.098 1.205.575.06.174.225.487.495.796.426.488.955.764 1.649.764.693 0 1.223-.276 1.65-.764.27-.31.433-.622.494-.796.166-.476.706-.734 1.204-.575.5.159.77.673.603 1.15-.13.371-.395.876-.839 1.385C14.348 16.458 13.306 17 12 17s-2.348-.542-3.112-1.418a4.382 4.382 0 0 1-.839-1.385zM9.5 11a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM19 5h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0V7h-1a1 1 0 0 1 0-2h1V4a1 1 0 0 1 2 0v1zm-5-1.777V5.29A7 7 0 1 0 18.71 10h2.067A9 9 0 1 1 14 3.223z" fill="currentColor"/></svg>'},e))};a.displayName="EmojiAddIcon";var c=a;t.default=c},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/analytics-next/createAndFireEvent.js":function(e,t,n){"use strict";t.a=function(e){return function(t){return function(n){var o=n(t);return o.clone().fire(e),o}}}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/analytics-next/withAnalyticsEvents.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(o),r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),s=n.n(r),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),l=n("./node_modules/@babel/runtime/helpers/createClass.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),h=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=n.n(h),y=n("./node_modules/@babel/runtime/helpers/inherits.js"),v=n.n(y),j=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(j),_=n("./node_modules/react/index.js"),x=n.n(_),k=n("./node_modules/prop-types/index.js"),w=n.n(k),E=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),O=n.n(E),S=n("./node_modules/@babel/runtime/helpers/get.js"),C=n.n(S),P=n("./node_modules/@babel/runtime/helpers/typeof.js"),R=n.n(P),N=function(){function e(t){var n=this;c()(this,e),b()(this,"payload",void 0),b()(this,"clone",function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})}),this.payload=t.payload}return u()(e,[{key:"update",value:function(e){return"function"==typeof e?this.payload=e(this.payload):"object"===R()(e)&&(this.payload=s()({},this.payload,e)),this}}]),e}(),A=console.warn,I=function(e){function t(e){var n;return c()(this,t),n=p()(this,f()(t).call(this,e)),b()(g()(n),"context",void 0),b()(g()(n),"handlers",void 0),b()(g()(n),"hasFired",void 0),b()(g()(n),"clone",function(){return n.hasFired?(A("Cannot clone an event after it's been fired."),null):new t({context:O()(n.context),handlers:O()(n.handlers),payload:JSON.parse(JSON.stringify(n.payload))})}),b()(g()(n),"fire",function(e){n.hasFired?A("Cannot fire an event twice."):(n.handlers.forEach(function(t){t(g()(n),e)}),n.hasFired=!0)}),n.context=e.context||[],n.handlers=e.handlers||[],n.hasFired=!1,n}return v()(t,e),u()(t,[{key:"update",value:function(e){return this.hasFired?(A("Cannot update an event after it's been fired."),this):C()(f()(t.prototype),"update",this).call(this,e)}}]),t}(N);n.d(t,"a",function(){return L});var M=function(e){function t(){var e,n;c()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=p()(this,(e=f()(t)).call.apply(e,[this].concat(i))),b()(g()(n),"createAnalyticsEvent",function(e){var t=n.context,o=t.getAtlaskitAnalyticsEventHandlers,i=t.getAtlaskitAnalyticsContext,r="function"==typeof i&&i()||[],s="function"==typeof o&&o()||[];return new I({context:r,handlers:s,payload:e})}),n}return v()(t,e),u()(t,[{key:"render",value:function(){return this.props.children(this.createAnalyticsEvent)}}]),t}(_.Component);b()(M,"contextTypes",{getAtlaskitAnalyticsEventHandlers:w.a.func,getAtlaskitAnalyticsContext:w.a.func});var T=function(e,t,n,o){return function(){var i="function"==typeof t?t(o,n):o(t),r=n[e];if(r){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];r.apply(void 0,a.concat([i]))}}},D=function(e,t){return Object.keys(e).reduce(function(n,o){return s()({},n,b()({},o,t(o,e[o])))},{})};function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=x.a.forwardRef(function(n,o){return x.a.createElement(M,null,function(r){var s=D(e,function(e,t){return T(e,t,n,r)});return x.a.createElement(t,i()({},n,s,{createAnalyticsEvent:r,ref:o}))})});return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/api/EmojiUtils.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return f});var o=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/util-service-support/dist/esm/index.js"),r=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/type-helpers.js"),s=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/logger.js"),a=function(e,t){var n=e.getRatio,r=void 0===n?l:n,s=o.__rest(e,["getRatio"]),a=c(r),u=t||{},d=u.queryParams,p=void 0===d?{}:d,m=o.__rest(u,["queryParams"]),f=o.__assign({},m,{queryParams:o.__assign({},a,p)});return i.b.requestService(s,f)},c=function(e){return e()>1?{scale:"XHDPI",altScale:"XXXHDPI"}:{altScale:"XHDPI"}},l=function(){return window.devicePixelRatio},u=function(e){return e[c(l).altScale]},d=function(e,t){if(Object(r.p)(e)&&t&&t.spriteSheets){var n=e,o=n.height,i=n.width,a=n.x,c=n.y,l=n.xIndex,u=n.yIndex,d=n.spriteRef,p=t.spriteSheets[d];if(p)return{sprite:p,height:o,width:i,x:a,y:c,xIndex:l,yIndex:u}}else if(Object(r.i)(e)){o=e.height,i=e.width;var m=e.imagePath;return function(e,t){return!(!t||!t.mediaApiToken||0!==e.indexOf(t.mediaApiToken.url))}(m,t)?Object(r.c)(e):{height:o,width:i,imagePath:m}}Object(s.a)("failed conversion for representation",e,t)},p=function(e,t){return e&&e!=={}?d(u(e),t):void 0},m=function(e){return{emojis:e.emojis.map(function(t){var n=d(t.representation,e.meta),i=p(t.altRepresentations,e.meta),s=function(e,t){if(!e.skinVariations)return[];var n=e.skinVariations,i=e.id;return n.map(function(e){var n=e.representation,r=e.altRepresentations,s=o.__rest(e,["representation","altRepresentations"]);return o.__assign({baseId:i,representation:d(n,t),altRepresentation:p(r,t)},s)})}(t,e.meta),a=(t.representation,t.skinVariations,t.altRepresentations,o.__rest(t,["representation","skinVariations","altRepresentations"])),c=o.__assign({},a,{representation:n,skinVariations:s});return Object(r.a)(c,i)}),mediaApiToken:e.meta&&e.meta.mediaApiToken}},f=function(e,t){return!!(t&&e.altRepresentation&&function(e){return l()>1?2*e:e}(t)>e.representation.height)}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/CachingEmoji.js":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/prop-types/index.js"),r=n("./node_modules/react/index.js"),s=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/api/EmojiUtils.js"),a=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/type-helpers.js"),c=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/logger.js"),l=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/Emoji.js"),u=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/EmojiPlaceholder.js"),d=function(e){function t(t,n){var o=e.call(this,t,n)||this;return o.mounted=!1,o.handleLoadError=function(e,t){!o.state.invalidImage&&t&&o.setState({cachedEmoji:o.loadEmoji(t,o.context,!0)})},o.state={cachedEmoji:o.loadEmoji(t.emoji,n,!1)},o}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.componentWillReceiveProps=function(e,t){e.emoji!==this.props.emoji&&this.mounted&&this.setState({cachedEmoji:this.loadEmoji(e.emoji,t,!1)})},t.prototype.loadEmoji=function(e,t,n){var o=this;if(t.emoji){var i=t.emoji.emojiProvider;if(i){var r=this.props.fitToHeight,l=Object(s.d)(e,r);if(i.optimisticMediaRendering(e,l)&&!n)return Object(c.a)("Optimistic rendering",e.shortName),e;Object(c.a)("Loading image via media cache",e.shortName);var u=i.loadMediaEmoji(e,l);if(!Object(a.n)(u))return Object(a.f)(u)?u:void 0;u.then(function(e){o.mounted&&o.setState({cachedEmoji:e,invalidImage:!e})}).catch(function(){o.mounted&&o.setState({cachedEmoji:void 0,invalidImage:!0})})}}},t.prototype.render=function(){var e,t=this.state.cachedEmoji,n=this.props,i=(n.children,n.placeholderSize,o.__rest(n,["children","placeholderSize"]));if(t)e=r.createElement(l.a,o.__assign({},i,{emoji:t,onLoadError:this.handleLoadError}));else{var s=this.props,a=s.emoji,c=s.placeholderSize,d=s.showTooltip,p=s.fitToHeight,m=a.shortName,f=a.representation;e=r.createElement(u.a,{size:p||c,shortName:m,showTooltip:d,representation:f})}return e},t.contextTypes={emoji:i.object},t}(r.PureComponent);t.a=function(e){e.placeholderSize;var t=o.__rest(e,["placeholderSize"]);return Object(a.k)(e.emoji)?r.createElement(d,o.__assign({},e)):r.createElement(l.a,o.__assign({},t))}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/Emoji.js":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@atlaskit/button/components/Button.js"),r=n("./node_modules/@atlaskit/icon/glyph/cross-circle.js"),s=n.n(r),a=n("./node_modules/@atlaskit/theme/index.js"),c=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./node_modules/react/index.js"),p=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/api/EmojiUtils.js"),m=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js"),f=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/type-helpers.js"),h=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/mouse.js"),g=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/styles.js"),y=function(e,t){if(!(t.target instanceof Element&&t.target.getAttribute("aria-label")===m.g)){var n=e.emoji,o=e.onSelected;t.preventDefault(),o&&Object(h.a)(t)&&o(Object(f.q)(n),n,t)}},v=function(e,t){var n=e.emoji,o=e.onMouseMove;o&&o(Object(f.q)(n),n,t)},j=function(e){var t,n,r,l,h=e.emoji,j=e.fitToHeight,b=e.selected,_=e.selectOnHover,x=e.className,k=e.showTooltip,w=e.showDelete,E=((t={})[g.k]=!0,t[g.p]=!0,t[g.F]=b,t[g.E]=_,t);x&&(E[x]=!0);var O,S=Object(p.d)(h,j)?h.altRepresentation:h.representation;Object(f.i)(S)?(l=S.imagePath,n=S.width,r=S.height):Object(f.l)(S)&&(l=S.mediaPath,n=S.width,r=S.height),w&&(O=d.createElement("span",{className:g.g},d.createElement(i.b,{iconBefore:d.createElement(s.a,{label:m.g,primaryColor:a.colors.N500,size:"small"}),onClick:function(t){return function(e,t){var n=e.emoji,o=e.onDelete;o&&o(Object(f.q)(n),n,t)}(e,t)},appearance:"subtle-link",spacing:"none"})));var C={};j&&n&&r&&(C={width:j/r*n,height:j});var P=d.createElement("img",o.__assign({src:l,key:l,alt:h.shortName,style:{visibility:"visible"},onError:function(t){!function(e,t){var n=e.emoji,o=e.onLoadError;t.target&&(t.target.style.visibility="hidden");o&&o(Object(f.q)(n),n,t)}(e,t)}},C));return d.createElement("span",{className:u()(E),onMouseDown:function(t){y(e,t)},onMouseMove:function(t){v(e,t)},"aria-label":h.shortName},O,k?d.createElement(c.a,{tag:"span",content:h.shortName},P):P)};t.a=function(e){var t=e.emoji;return Object(f.o)(t.representation)?function(e){var t,n=e.emoji,i=e.fitToHeight,r=e.selected,s=e.selectOnHover,a=e.className,l=e.showTooltip,p=n.representation,m=p.sprite,f=((t={})[g.n]=!0,t[g.p]=!0,t[g.F]=r,t[g.E]=s,t);a&&(f[a]=!0);var h={};i&&(h={width:i+"px",height:i+"px"});var j=100/(m.column-1)*(p.xIndex-0),b=100/(m.row-1)*(p.yIndex-0),_=o.__assign({backgroundImage:"url("+m.url+")",backgroundPosition:j+"% "+b+"%",backgroundSize:100*m.column+"% "+100*m.row+"%"},h),x=d.createElement("span",{className:g.t,style:_},"\xa0");return d.createElement("span",{className:u()(f),onMouseDown:function(t){y(e,t)},onMouseMove:function(t){v(e,t)},"aria-label":n.shortName},l?d.createElement(c.a,{tag:"span",content:n.shortName},x):x)}(e):j(e)}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/EmojiPlaceholder.js":function(e,t,n){"use strict";var o=n("./node_modules/react/index.js"),i=n("./node_modules/classnames/index.js"),r=n.n(i),s=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),a=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/styles.js"),c=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js"),l=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/type-helpers.js");t.a=function(e){var t,n,i,u=e.shortName,d=e.size,p=void 0===d?c.f:d,m=e.showTooltip,f=e.representation;if(f&&p&&(Object(l.i)(f)||Object(l.l)(f))){var h=f.width,g=f.height;h&&g&&(n=p/g*h,i=p)}var y={fill:"f7f7f7",width:(n||p)+"px",height:(i||p)+"px"},v=((t={})[a.x]=!0,t[a.y]=!0,t),j=o.createElement("span",{"aria-label":u,className:r()(v),style:y});return m?o.createElement(s.a,{tag:"span",content:u},j):j}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/styles.js":function(e,t,n){"use strict";n.d(t,"F",function(){return j}),n.d(t,"E",function(){return b}),n.d(t,"t",function(){return _}),n.d(t,"p",function(){return x}),n.d(t,"g",function(){return k}),n.d(t,"k",function(){return w}),n.d(t,"n",function(){return E}),n.d(t,"x",function(){return O}),n.d(t,"y",function(){return S}),n.d(t,"l",function(){return C}),n.d(t,"e",function(){return P}),n.d(t,"z",function(){return R}),n.d(t,"B",function(){return N}),n.d(t,"D",function(){return A}),n.d(t,"w",function(){return I}),n.d(t,"G",function(){return M}),n.d(t,"C",function(){return T}),n.d(t,"H",function(){return D}),n.d(t,"S",function(){return L}),n.d(t,"s",function(){return F}),n.d(t,"q",function(){return U}),n.d(t,"u",function(){return z}),n.d(t,"L",function(){return $}),n.d(t,"v",function(){return H}),n.d(t,"M",function(){return q}),n.d(t,"K",function(){return B}),n.d(t,"J",function(){return W}),n.d(t,"P",function(){return V}),n.d(t,"O",function(){return Y}),n.d(t,"Q",function(){return G}),n.d(t,"c",function(){return J}),n.d(t,"I",function(){return K}),n.d(t,"a",function(){return X}),n.d(t,"A",function(){return Q}),n.d(t,"i",function(){return Z}),n.d(t,"j",function(){return ee}),n.d(t,"h",function(){return te}),n.d(t,"o",function(){return ne}),n.d(t,"m",function(){return oe}),n.d(t,"r",function(){return ie}),n.d(t,"b",function(){return re}),n.d(t,"R",function(){return se}),n.d(t,"N",function(){return ae}),n.d(t,"f",function(){return ce}),n.d(t,"d",function(){return le});var o,i,r,s,a,c,l,u,d,p,m,f=n("./node_modules/@atlaskit/theme/index.js"),h=n("./node_modules/@atlaskit/theme/constants.js"),g=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js"),y=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/shared-styles.js"),v=n("./node_modules/typestyle/lib.es2015/index.js"),j="emoji-common-selected",b="emoji-common-select-on-hover",_="emoji-common-emoji-sprite",x="emoji-common-node",k=Object(v.b)({visibility:"hidden",display:"flex",height:"0px",width:"38px",alignItems:"flex-end",justifyContent:"flex-end",paddingTop:"4px",marginBottom:"-4px"}),w=Object(v.b)({borderRadius:"5px",backgroundColor:"transparent",display:"inline-block",verticalAlign:"middle",margin:"-1px 0",$nest:(o={},o["&."+j+",&."+b+":hover"]={backgroundColor:y.a},o["&."+j+",&."+b+":hover ."+k]={visibility:"visible"},o.img={display:"block"},o)}),E=Object(v.b)({display:"inline-block",margin:"-1px 0",$nest:(i={},i["&."+j+",&."+b+":hover"]={backgroundColor:y.a},i["."+_]={background:"transparent no-repeat",display:"inline-block",verticalAlign:"middle",height:g.f+"px",width:g.f+"px"},i)}),O="emoji-common-placeholder",S=Object(v.b)({margin:"-1px 0",display:"inline-block",background:"#f7f7f7",borderRadius:"20%",verticalAlign:"middle",whiteSpace:"nowrap"}),C=(Object(v.b)({display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap"}),Object(v.b)({backgroundColor:"transparent",border:"0",cursor:"pointer",padding:0,$nest:(r={},r["&::-moz-focus-inner"]={border:"0 none",padding:0},r["&>span"]={borderRadius:"5px",padding:"8px",$nest:(s={},s["&>."+_]={height:"24px",width:"24px"},s)},r)})),P="emoji-common-buttons",R="emoji-common-preview",N="emoji-common-preview-image",A="emoji-common-preview-text",I="emoji-common-name",M="emoji-common-shortname",T="emoji-common-preview-single-line",D="emoji-common-tone-selector-container",L="emoji-common-with-tone-selector",F="emoji-preview-section",U=Object(v.b)({display:"flex",height:"50px",boxSizing:"border-box",$nest:(a={},a["."+R]={display:"flex",flexDirection:"row",flexWrap:"nowrap",padding:"10px",$nest:(c={},c["."+_]={height:"32px",margin:"0",width:"32px"},c["."+N]={display:"inline-block",flex:"initial",width:"32px",$nest:{"&>span":{width:"32px",height:"32px",padding:0,maxHeight:"inherit",$nest:{"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"32px",maxWidth:"32px",padding:0,display:"block"}}}}},c["."+A]={display:"flex",flexDirection:"column",marginLeft:"10px",marginTop:"-2px",maxWidth:"285px",width:"285px",flexGrow:1,flexShrink:1,$nest:(l={},l["."+I]={display:"block",color:f.colors.N900,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",$nest:(u={},u["&:first-letter"]={textTransform:"uppercase"},u)},l["."+M]={display:"block",color:f.colors.N200,fontSize:"12px",lineHeight:1,marginBottom:"-2px",overflow:"hidden",paddingBottom:"2px",textOverflow:"ellipsis",whiteSpace:"nowrap"},l)},c["."+T]={paddingTop:"10px",$nest:(d={},d["."+I]={display:"none"},d["."+M]={color:f.colors.N900,fontSize:"14px"},d)},c)},a["."+P]={flex:1,textAlign:"right",margin:"6px"},a["."+D]={flex:1,textAlign:"right",margin:"6px"},a["."+L+" ."+A]={maxWidth:"235px",width:"235px"},a)}),z=(Object(v.b)({border:"1px solid #fff",borderRadius:Object(h.f)()+"px",display:"block",margin:"0",overflowX:"hidden",overflowY:"auto",padding:"0"}),Object(v.b)({height:"78px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around"})),$=Object(v.b)({color:f.colors.N300,fontSize:"12px",paddingBottom:"7px"}),H=Object(v.b)({fontSize:"11px"}),q=Object(v.b)({display:"flex",justifyContent:"space-between"}),B=Object(v.b)({flex:"1 1 auto",marginRight:"5px",$nest:{input:{background:"transparent",border:0,fontSize:"12px",outline:"none",width:"100%",height:"22px",$nest:(p={},p["&:invalid"]={boxShadow:"none"},p["&::-ms-clear"]={display:"none"},p)}}}),W=Object(v.b)({flex:"0 0 auto"}),V=Object(v.b)({display:"flex",flexDirection:"column",height:"100px",padding:"10px"}),Y=Object(v.b)({display:"flex",justifyContent:"space-between",alignItems:"center",background:f.colors.N20,borderRadius:Object(h.f)()+"px",padding:"10px"}),G=Object(v.b)({$nest:{h5:{color:f.colors.N300,paddingBottom:"4px",fontSize:"12px"},img:{maxHeight:"20px",maxWidth:"50px"}}}),J=Object(v.b)({paddingLeft:"4px",$nest:{img:{maxHeight:"40px",maxWidth:"100px"}}}),K=Object(v.b)({display:"flex",justifyContent:"flex-end",alignItems:"center",paddingTop:"10px"}),X=Object(v.b)({alignSelf:"center",marginLeft:"10px"}),Q="emoji-preview-button-group",Z=Object(v.b)({height:"100px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"flex-end",fontSize:"12px"}),ee=Object(v.b)({height:"64px",$nest:{":first-child":{color:f.colors.N300,lineHeight:"16px"}}}),te=Object(v.b)({display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",$nest:(m={img:{maxHeight:"32px",maxWidth:"72px"}},m["."+Q]={display:"flex"},m[".emoji-submit-delete"]={width:"84px",fontWeight:"bold",marginRight:"4px"},m.button={display:"flex",justifyContent:"center",fontSize:"14px",$nest:{div:{display:"flex"}}},m)}),ne=Object(v.b)({display:"flex",color:f.colors.R400,alignItems:"center",justifyContent:"flex-end",paddingRight:"4px"}),oe=Object(v.b)({display:"flex",color:f.colors.R300,paddingRight:"10px",justifyContent:"flex-start"}),ie=Object(v.b)({display:"inline-flex",color:f.colors.R400,paddingRight:"10px",justifyContent:"flex-end",alignItems:"center"}),re=Object(v.b)({maxWidth:"285px"}),se=Object(v.b)({maxWidth:"172px",justifyContent:"center",fontWeight:"bold",marginRight:"4px",$nest:{div:{display:"flex"}}}),ae=Object(v.b)({maxWidth:"187px",justifyContent:"center",marginRight:"4px",$nest:{div:{display:"flex"}}}),ce=Object(v.b)({maxWidth:"100px"}),le=Object(v.b)({marginRight:"10px",marginLeft:"10px"})},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/i18n.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("./node_modules/react-intl/lib/index.es.js"),i=Object(o.defineMessages)({deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji",description:"Title for emoji removal dialog"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}",description:"Description for emoji removal dialog"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove",description:"Button label to remove emoji"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji",description:"Button label to add custom emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"Emoji name",description:"Placeholder for emoji"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji",description:"Explains to enter a name for a new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file",description:"Choose custom emoji file"},emojiChooseFileAriaLabel:{id:"fabric.emoji.choose.file.ariaLabel",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB.",description:"Message indicating the purpose of choosing the file and requirements for the file"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB.",description:"Message for emoji image requirements and maximum file size"},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview",description:"Emoji preview title"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great",description:"Emoji preview"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji",description:"verb - Button label to add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry",description:"verb - Button label to retry upload"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel",description:"verb - button label to cancel operation"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Search",description:"verb - button label to search"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results",description:"Emoji categories search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent",description:"Emoji frequent category"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People",description:"Emoji frequent category"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature",description:"Emoji nature category"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink",description:"Emoji Foods category"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity",description:"Emoji activity category"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places",description:"Emoji Places category"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects",description:"Emoji objects category"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols",description:"Emoji symbols category"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags",description:"Emoji flags category"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity",description:"Emoji productivity category"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads",description:"User uploads in the custom category"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads",description:"All uploads in the custom category"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed",description:"Error message when custom emoji failed to be removed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid",description:"Error message for invalid selected image"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed",description:"Failed to upload emoji image"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB",description:"Error message for image too big, beyond the size limit"}})},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/picker/EmojiPickerSizes.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={listHeight:208,listWidth:n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js").i,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/picker/EmojiPickerVirtualItems.js":function(e,t,n){"use strict";var o=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@atlaskit/spinner/Spinner/index.js"),r=n("./node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),a=n.n(s),c=n("./node_modules/react-intl/lib/index.es.js"),l=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/type-helpers.js"),u=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/i18n.js"),d=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/picker/styles.js"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.title,i=e.className;return r.createElement("div",{id:t,"data-category-id":t,className:a()(i)},r.createElement("div",{className:d.e},Object(l.m)(n)?r.createElement(c.FormattedMessage,o.__assign({},u.a[n])):n))},t}(r.PureComponent),m=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/CachingEmoji.js"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.emojis,n=e.onSelected,o=e.onMouseMove,i=e.title,s=e.showDelete,a=e.onDelete;return r.createElement("div",{className:d.k},t.map(function(e){var t=e.shortName,c=e.id,l=c?c+"-"+i:t+"-"+i;return r.createElement("span",{className:d.f,key:l},r.createElement(m.a,{emoji:e,selectOnHover:!0,onSelected:n,onMouseMove:o,showDelete:s,onDelete:a,placeholderSize:24}))}))},t}(r.PureComponent),h=n("./node_modules/@atlaskit/field-base/components/FieldBase.js"),g=n("./node_modules/@atlaskit/icon/glyph/search.js"),y=n.n(g),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBlur=function(){var e=document.activeElement;e instanceof HTMLElement&&e.getAttribute("data-emoji-picker-container")&&t.restoreInputFocus()},t.onChange=function(e){t.saveInputSelection(),t.props.onChange(e)},t.focusInput=function(){t.inputRef&&t.inputRef.focus()},t.handleInputRef=function(e){e&&(t.inputRef=e,window.setTimeout(t.focusInput))},t}return o.__extends(t,e),t.prototype.saveInputSelection=function(){if(this.inputSelection=void 0,this.inputRef){var e=this.inputRef,t=e.selectionStart,n=e.selectionEnd,o=e.selectionDirection;t&&n&&o&&(this.inputSelection={selectionStart:t,selectionEnd:n,selectionDirection:o})}},t.prototype.restoreInputFocus=function(){if(this.focusInput(),this.inputSelection&&this.inputRef&&this.inputRef.setSelectionRange){var e=this.inputSelection,t=e.selectionStart,n=e.selectionEnd,o=e.selectionDirection;this.inputRef.setSelectionRange(t,n,o)}},t.prototype.render=function(){var e=this,t=this.props,n=t.style,i=t.query;return r.createElement("div",{className:d.n,style:n},r.createElement(c.FormattedMessage,o.__assign({},u.a.searchLabel),function(t){return r.createElement(h.a,{appearance:"standard",isCompact:!0,isLabelHidden:!0,isFitContainerWidthEnabled:!0},r.createElement("span",{className:d.o},r.createElement(y.a,{label:t})),r.createElement("input",{className:d.m,autoComplete:"off",disabled:!1,name:"search",placeholder:t+"...",required:!1,onChange:e.onChange,value:i||"",ref:e.handleInputRef,onBlur:e.onBlur}))}))},t.defaultProps={style:{}},t}(r.PureComponent),j=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/picker/EmojiPickerSizes.js");n.d(t,"d",function(){return _}),n.d(t,"b",function(){return x}),n.d(t,"c",function(){return k}),n.d(t,"a",function(){return w}),n.d(t,"e",function(){return E});var b=function(){return function(e,t){this.props=e,this.height=t}}(),_=function(e){function t(t){var n=e.call(this,t,j.a.searchHeight)||this;return n.renderItem=function(){return r.createElement(v,o.__assign({},n.props))},n}return o.__extends(t,e),t}(b),x=function(e){function t(t){var n=e.call(this,t,j.a.emojiRowHeight)||this;return n.renderItem=function(){return r.createElement(f,o.__assign({},n.props))},n}return o.__extends(t,e),t}(b),k=function(e){function t(){var t=e.call(this,{},j.a.loadingRowHeight)||this;return t.renderItem=function(){return r.createElement("div",{className:d.l},r.createElement("div",null,r.createElement(i.a,{size:"medium"})))},t}return o.__extends(t,e),t}(b),w=function(e){function t(t){var n=e.call(this,t,j.a.categoryHeadingHeight)||this;return n.renderItem=function(){return r.createElement(p,o.__assign({},n.props))},n}return o.__extends(t,e),t}(b),E=function(e,t){var n=t.index,o=t.key,i=t.style,s=e[n];return r.createElement("div",{style:i,key:o},s.renderItem(t))}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/picker/styles.js":function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"d",function(){return v}),n.d(t,"g",function(){return j}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return _}),n.d(t,"j",function(){return x}),n.d(t,"p",function(){return k}),n.d(t,"o",function(){return w}),n.d(t,"m",function(){return E}),n.d(t,"n",function(){return O}),n.d(t,"l",function(){return S}),n.d(t,"k",function(){return C}),n.d(t,"e",function(){return P}),n.d(t,"f",function(){return R}),n.d(t,"h",function(){return N}),n.d(t,"i",function(){return A});var o,i,r,s,a,c,l,u,d=n("./node_modules/typestyle/lib.es2015/index.js"),p=n("./node_modules/@atlaskit/theme/constants.js"),m=n("./node_modules/@atlaskit/theme/index.js"),f=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/shared-styles.js"),h=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/styles.js"),g=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js"),y="emoji-picker-active",v="emoji-picker-disable",j=Object(d.b)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"white",border:f.c+" 1px solid",borderRadius:Object(p.f)()+"px",boxShadow:f.d,height:g.h+"px",width:g.i+"px",marginBottom:"8px",minWidth:g.i+"px"}),b=Object(d.b)({flex:"0 0 auto",backgroundColor:m.colors.N30,$nest:(o={ul:{listStyle:"none",margin:"0 4px",padding:"3px 0",display:"flex",flexDirection:"row",justifyContent:"space-around"},li:{display:"inline-block",margin:0,padding:0,$nest:{button:{verticalAlign:"middle"}}}},o[".emoji-picker-add-button"]={color:m.colors.N200,margin:"0 0 0 5px",verticalAlign:"middle"},o)}),_=Object(d.b)({backgroundColor:"transparent",border:0,color:m.colors.N100A,cursor:"pointer",margin:"2px 0",padding:0,transition:"color 0.2s ease",$nest:(i={},i["&::-moz-focus-inner"]={border:"0 none",padding:0},i["&."+y]={color:m.colors.B300,$nest:(r={},r["&:hover"]={color:m.colors.B300},r)},i["&:hover"]={color:m.colors.B100},i["&."+v]={color:m.colors.N50,cursor:"default",$nest:(s={},s["&:hover"]={color:m.colors.N50},s)},i["&:focus"]={outline:"0"},i)}),x=Object(d.b)({display:"flex",flexDirection:"column",flex:"1 1 auto",height:"0"}),k=Object(d.b)({$nest:{"&:focus":{outline:"none"}}}),w="search-icon",E="input",O=Object(d.b)({boxSizing:"border-box",padding:"10px",flex:"0 0 auto",$nest:(a={},a["."+w]={opacity:.5},a["."+E]={background:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px 0 2px 10px",width:"100%",$nest:(c={},c["&:invalid"]={boxShadow:"none"},c["&::-ms-clear"]={display:"none"},c)},a)}),S=Object(d.b)({display:"flex",width:"100%",height:"150px",justifyContent:"center",alignItems:"center",$nest:{">div":{flex:"0 0 auto"}}}),C=Object(d.b)({marginLeft:"8px"}),P=Object(d.b)({boxSizing:"border-box",color:m.colors.N900,fontSize:"14px",padding:"5px 8px",textTransform:"lowercase",$nest:{"&:first-letter":{textTransform:"uppercase"}}}),R=Object(d.b)({display:"inline-block",textAlign:"center",width:"40px",$nest:(l={},l["&>."+h.p]={cursor:"pointer",padding:"8px",borderRadius:"5px",width:"24px",height:"24px",$nest:(u={"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"}},u["&>."+h.t]={height:"24px",width:"24px"},u)},l["&>."+h.x]={padding:"0",margin:"7px",minWidth:"24px",maxWidth:"24px"},l)}),N=(Object(d.b)({border:"2px dashed #ccc",borderRadius:Object(p.f)()+"px",backgroundColor:"transparent",width:"32px",height:"32px",padding:0,margin:"4px",verticalAlign:"middle",$nest:{"&:hover":{backgroundColor:f.a},"&:focus":{outline:"0"},span:{backgroundColor:"inherit"}}}),Object(d.b)({flex:"0 0 auto"})),A=Object(d.b)({borderTop:"2px solid "+m.colors.N30A,boxShadow:f.b})},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"j",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"m",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"e",function(){return h});var o="CUSTOM",i="FREQUENT",r="allUploadsCustomCategory",s="userUploadsCustomCategory",a="data:",c="delete-emoji",l=1e5,u=20,d=350,p=295,m="fabric.emoji",f=m+".selectedTone",h=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"]},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/logger.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("./node_modules/tslib/tslib.es6.js"),i=!1;function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];i&&console.log.apply(console,o.__spread([e],t))}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/mouse.js":function(e,t,n){"use strict";function o(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"a",function(){return o})},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/shared-styles.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var o=n("./node_modules/@atlaskit/theme/index.js"),i=n("./node_modules/@atlaskit/theme/constants.js"),r=(n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js").i,o.colors.N40),s="0 3px 6px rgba(0, 0, 0, 0.2)",a="0px -1px 1px 0px rgba(0, 0, 0, 0.1)",c=(o.colors.N40,Object(i.f)(),o.colors.N30);o.colors.N30},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/type-helpers.js":function(e,t,n){"use strict";n.d(t,"p",function(){return s}),n.d(t,"o",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"n",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"j",function(){return m}),n.d(t,"g",function(){return f}),n.d(t,"h",function(){return h}),n.d(t,"m",function(){return g}),n.d(t,"q",function(){return y}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return x}),n.d(t,"a",function(){return k}),n.d(t,"e",function(){return w});var o=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/i18n.js"),r=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js"),s=function(e){return!(!e||!e.spriteRef)},a=function(e){return!(!e||!e.sprite)},c=function(e){return!(!e||!e.imagePath)},l=function(e){return!(!e||!e.mediaPath)},u=function(e){return!(!e||!e.then)},d=function(e){return e&&e.shortName&&e.type},p=function(e){return l(e.representation)},m=function(e){return e.category===r.b&&function(e){return c(e)&&0===e.imagePath.indexOf(r.d)}(e.representation)},f=function(e){return!(!e||!e.skinVariations)},h=function(e){return"baseId"in e},g=function(e){return e in i.a},y=function(e){return{shortName:e.shortName,id:e.id,fallback:e.fallback}},v=function(e,t){return e===t||e&&t&&e.id===t.id&&e.shortName===t.shortName},j=function(e,t){if(!t)return!1;for(var n=0;n<e.length;n++)if(v(e[n],t))return!0;return!1},b=function(e){return{mediaPath:e.imagePath,height:e.height,width:e.width}},_=function(e,t){return{imagePath:t||e.mediaPath,height:e.height,width:e.width}},x=function(e,t,n){var i=e.representation,r=e.altRepresentation,s=n?void 0:t,a=n?t:void 0;if(!l(i)&&!l(r))return e;var c=l(i)?_(i,s):i,u=l(r)?_(r,a):r,d=o.__assign({},e,{representation:c});return k(d,u)},k=function(e,t){return t?o.__assign({},e,{altRepresentation:t}):e},w=function(e){return e.category}},"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/util-service-support/dist/esm/index.js":function(e,t,n){"use strict";var o={};n.r(o),n.d(o,"requestService",function(){return p});var i=function(){function e(){this.listeners=new Set}return e.prototype.subscribe=function(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)},e.prototype.unsubscribe=function(e){this.listeners.delete(e)},e.prototype.notifyResult=function(e){this.listeners.forEach(function(t){t.result(e)})},e.prototype.notifyError=function(e){this.listeners.forEach(function(t){t.error&&t.error(e)})},e.prototype.notifyInfo=function(e){this.listeners.forEach(function(t){t.info&&t.info(e)})},e.prototype.notifyNotReady=function(){this.listeners.forEach(function(e){e.notReady&&e.notReady()})},e}(),r=n("./node_modules/tslib/tslib.es6.js"),s=n("./node_modules/url/url.js"),a=n("./node_modules/@atlaskit/reactions/node_modules/url-search-params/build/url-search-params.node.js"),c=n.n(a),l=c.a.default||c.a,u={},d=function(e,t){if(t)for(var n in t)if({}.hasOwnProperty.call(t,n)){var o=t[n];if(Array.isArray(o))for(var i=0;i<o.length;i++)e.append(n,o[i]);else e.append(n,o)}},p=function(e,t){var n=e.url,o=e.securityProvider,i=e.refreshedSecurityProvider,a=t||u,c=a.path,m=a.queryParams,f=a.requestInit,h=o&&o(),g=function(e,t,n,o){void 0===t&&(t="");var i=new l(s.parse(e).search||void 0);if(e=e.split("?")[0],n)for(var r in n)({}).hasOwnProperty.call(n,r)&&i.append(r,n[r]);if(o&&o.params)for(var r in o.params)if({}.hasOwnProperty.call(o.params,r)){var a=o.params[r];if(Array.isArray(a))for(var c=0;c<a.length;c++)i.append(r,a[c]);else i.append(r,a)}var u="";t&&"/"!==e.substr(-1)&&(u="/");var d=i.toString();return d&&(d="?"+d),""+e+u+t+d}(n,c,m,h),y=function(e,t){var n=new Headers;return d(n,t),e&&d(n,e.headers),n}(h,f&&f.headers),v=function(e){return e&&e.omitCredentials?"omit":"include"}(h),j=Object(r.__assign)(Object(r.__assign)({},f),{headers:y,credentials:v});return fetch(g,j).then(function(e){return 204===e.status?Promise.resolve():e.ok?e.json():401===e.status&&i?i().then(function(e){return p({url:n,securityProvider:function(){return e}},t)}):Promise.reject({code:e.status,reason:e.statusText})})};n.d(t,"b",function(){return m}),n.d(t,"a",function(){return i});var m=o},"./node_modules/@atlaskit/reactions/node_modules/url-search-params/build/url-search-params.node.js":function(e,t,n){"use strict";(function(t){function n(e){var t,n,i,r,s,a,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),s=0,a=(r=e.split("&")).length;s<a;s++)-1<(t=(i=r[s]).indexOf("="))?u(c,d(i.slice(0,t)),d(i.slice(t+1))):i.length&&u(c,d(i),"");else if(o(e))for(s=0,a=e.length;s<a;s++)u(c,(i=e[s])[0],i[1]);else for(n in e)u(c,n,e[n])}var o=Array.isArray,i=n.prototype,r=/[!'\(\)~]|%20|%00/g,s=/\+/g,a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return a[e]},l="__URLSearchParams__:"+Math.random();function u(e,t,n){t in e?e[t].push(""+n):e[t]=o(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(s," "))}function p(e){return encodeURIComponent(e).replace(r,c)}i.append=function(e,t){u(this[l],e,t)},i.delete=function(e){delete this[l][e]},i.get=function(e){var t=this[l];return e in t?t[e][0]:null},i.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},i.has=function(e){return e in this[l]},i.set=function(e,t){this[l][e]=[""+t]},i.forEach=function(e,t){var n=this[l];Object.getOwnPropertyNames(n).forEach(function(o){n[o].forEach(function(n){e.call(t,n,o,this)},this)},this)},i.toJSON=function(){return{}},i.toString=function(){var e,t,n,o,i=this[l],r=[];for(t in i)for(n=p(t),e=0,o=i[t];e<o.length;e++)r.push(n+"="+p(o[e]));return r.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach(function(o){!o.length||o in n||(n[o]=this.getAll(o)).forEach(function(n){e.call(t,n,o,this)},this)},this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach(function(t,n){e.push(n)});var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach(function(t){e.push(t)});var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach(function(t,n){e.push([n,t])});var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),!t||Symbol.iterator in e||(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,o=this.entries(),i=o.next(),r=i.done,s=[],a=Object.create(null);!r;)t=(n=i.value)[0],s.push(t),t in a||(a[t]=[]),a[t].push(n[1]),r=(i=o.next()).done;for(s.sort(),e=0;e<s.length;e++)this.delete(s[e]);for(e=0;e<s.length;e++)t=s[e],this.append(t,a[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@atlaskit/reactions/version.json":function(e){e.exports=JSON.parse('{"a":"@atlaskit/reactions","b":"16.1.10"}')},"./node_modules/free-style/dist/free-style.js":function(e,t,n){"use strict";(function(e){var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=0;t.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var i=/[A-Z]/g,r=/^ms-/,s=/&/g,a=/[ !#$%&()*+,.\/;<=>?@[\]^`{|}~"'\\]/g,c=function(e){return"-"+e.toLowerCase()},l=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],u=Object.create(null),d=0,p=["-webkit-","-ms-","-moz-","-o-",""];d<p.length;d++)for(var m=p[d],f=0,h=l;f<h.length;f++){u[m+h[f]]=!0}function g(e){return e.replace(i,c).replace(r,"-ms-")}function y(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function v(e,t){return"number"!=typeof t||0===t||u[e]?e+":"+t:e+":"+t+"px"}function j(e){return e.sort(function(e,t){return e[0]>t[0]?1:-1})}function b(e){return e.map(function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map(function(e){return v(t,e)}).join(";"):v(t,n)}).join(";")}function _(e,t){return e.indexOf("&")>-1?e.replace(s,t):t+" "+e}function x(e,n,i,r,s){var a=function(e,n){for(var o=[],i=[],r=!1,s=0,a=Object.keys(e);s<a.length;s++){var c=a[s],l=e[c];null!=l&&(c===t.IS_UNIQUE?r=!0:"object"!=typeof l||Array.isArray(l)?o.push([g(c.trim()),l]):i.push([c.trim(),l]))}return{styleString:b(j(o)),nestedStyles:n?i:j(i),isUnique:r}}(i,!!n),c=a.styleString,l=a.nestedStyles,u=a.isUnique,d=c;if(64===n.charCodeAt(0)){var p=e.add(new P(n,s?void 0:c,e.hash));if(c&&s){var m=p.add(new C(c,p.hash,u?"u"+(++o).toString(36):void 0));r.push([s,m])}for(var f=0,h=l;f<h.length;f++){var y=h[f];d+=(E=y[0])+x(p,E,y[1],r,s)}}else{var v=s?_(n,s):n;if(c){m=e.add(new C(c,e.hash,u?"u"+(++o).toString(36):void 0));r.push([v,m])}for(var k=0,w=l;k<w.length;k++){var E,O=w[k];d+=(E=O[0])+x(e,E,O[1],r,v)}}return d}function k(e,n,o,i,r){for(var s=new O(e.hash),a=[],c=x(s,n,o,a),l="f"+s.hash(c),u=r?r+"_"+l:l,d=0,p=a;d<p.length;d++){var m=p[d],f=m[0],h=m[1],g=i?_(f,"."+t.escape(u)):f;h.add(new S(g,h.hash,void 0,c))}return{cache:s,pid:c,id:u}}function w(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}t.escape=function(e){return e.replace(a,"\\$&")},t.hyphenate=g,t.stringHash=y;var E={add:function(){},change:function(){},remove:function(){}},O=function(){function e(e,t){void 0===e&&(e=y),void 0===t&&(t=E),this.hash=e,this.changes=t,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,o=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[o.id]=o,this._keys.push(o.id),this.sheet.push(o.getStyles()),this.changeId++,this.changes.add(o,this._keys.length-1);else{if(o.getIdentifier()!==t.getIdentifier())throw new TypeError("Hash collision: "+t.getStyles()+" === "+o.getStyles());var i=this._keys.indexOf(t.id),r=this._keys.length-1,s=this.changeId;if(i!==r&&(this._keys.splice(i,1),this._keys.push(t.id),this.changeId++),o instanceof e&&t instanceof e){var a=o.changeId;o.merge(t),o.changeId!==a&&this.changeId++}this.changeId!==s&&(i===r?this.sheet.splice(i,1,o.getStyles()):(this.sheet.splice(i,1),this.sheet.splice(r,0,o.getStyles())),this.changes.change(o,i,r))}return o},e.prototype.remove=function(t){var n=this._counters[t.id];if(n>0){this._counters[t.id]=n-1;var o=this._children[t.id],i=this._keys.indexOf(o.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(i,1),this.sheet.splice(i,1),this.changeId++,this.changes.remove(o,i);else if(o instanceof e&&t instanceof e){var r=o.changeId;o.unmerge(t),o.changeId!==r&&(this.sheet.splice(i,1,o.getStyles()),this.changeId++,this.changes.change(o,i,i))}}},e.prototype.merge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var o=n[t];this.add(e._children[o])}return this},e.prototype.unmerge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var o=n[t];this.remove(e._children[o])}return this},e.prototype.clone=function(){return new e(this.hash).merge(this)},e}();t.Cache=O;var S=function(){function e(e,t,n,o){void 0===n&&(n="s"+t(e)),void 0===o&&(o=""),this.selector=e,this.hash=t,this.id=n,this.pid=o}return e.prototype.getStyles=function(){return this.selector},e.prototype.getIdentifier=function(){return this.pid+"."+this.selector},e.prototype.clone=function(){return new e(this.selector,this.hash,this.id,this.pid)},e}();t.Selector=S;var C=function(e){function t(t,n,o){void 0===o&&(o="c"+n(t));var i=e.call(this,n)||this;return i.style=t,i.hash=n,i.id=o,i}return n(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.getIdentifier=function(){return this.style},t.prototype.clone=function(){return new t(this.style,this.hash,this.id).merge(this)},t}(O);t.Style=C;var P=function(e){function t(t,n,o,i,r){void 0===n&&(n=""),void 0===i&&(i="a"+o(t+"."+n)),void 0===r&&(r="");var s=e.call(this,o)||this;return s.rule=t,s.style=n,s.hash=o,s.id=i,s.pid=r,s}return n(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+w(this.sheet)+"}"},t.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},t.prototype.clone=function(){return new t(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},t}(O);t.Rule=P;var R=function(i){function r(t,n,r,s){void 0===t&&(t=y),void 0===n&&(n=void 0!==e&&!1),void 0===r&&(r="f"+(++o).toString(36));var a=i.call(this,t,s)||this;return a.hash=t,a.debug=n,a.id=r,a}return n(r,i),r.prototype.registerStyle=function(e,t){var n=k(this,"&",e,!0,this.debug?t:void 0),o=n.cache,i=n.id;return this.merge(o),i},r.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},r.prototype.registerHashRule=function(e,n,o){var i=k(this,"",n,!1,this.debug?o:void 0),r=i.cache,s=i.pid,a=i.id,c=new P(e+" "+t.escape(a),void 0,this.hash,void 0,s);return this.add(c.merge(r)),a},r.prototype.registerRule=function(e,t){this.merge(k(this,e,t,!1).cache)},r.prototype.registerCss=function(e){this.merge(k(this,"",e,!1).cache)},r.prototype.getStyles=function(){return w(this.sheet)},r.prototype.getIdentifier=function(){return this.id},r.prototype.clone=function(){return new r(this.hash,this.debug,this.id,this.changes).merge(this)},r}(O);t.FreeStyle=R,t.create=function(e,t,n){return new R(e,t,void 0,n)}}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/typestyle/lib.es2015/index.js":function(e,t,n){"use strict";var o=n("./node_modules/free-style/dist/free-style.js");function i(e){var t={},n="";for(var r in e){var s=e[r];if("$unique"===r)t[o.IS_UNIQUE]=s;else if("$nest"===r){var a=s;for(var c in a){var l=a[c];t[c]=i(l).result}}else"$debugName"===r?n=s:t[r]=s}return{result:t,debugName:n}}var r="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},o=0,i=e;o<i.length;o++){var r=i[o];if(null!=r&&!1!==r)for(var a in r){var c=r[a];(c||0===c)&&("$nest"===a&&c?n[a]=n.$nest?s(n.$nest,c):c:-1!==a.indexOf("&")||0===a.indexOf("@media")?n[a]=n[a]?s(n[a],c):c:n[a]=c)}}return n}var a=function(){return o.create(void 0,!0)},c=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var r=i(s.apply(void 0,t)).result;n._freeStyle.registerRule(e,r),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=n._freeStyle,i=0,r=e;i<r.length;i++){var s=r[i];o.registerRule("@font-face",s)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=function(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var o=e[n];"$debugName"===n?t.$debugName=o:t.keyframes[n]=o}return t}(e),o=t.keyframes,i=t.$debugName,r=n._freeStyle.registerKeyframes(o,i);return n._styleUpdated(),r},this.reinit=function(){var e=a();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.style=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=n._freeStyle,r=i(s.apply(void 0,e)),a=r.result,c=r.debugName,l=c?o.registerStyle(a,c):o.registerStyle(a);return n._styleUpdated(),l},this.stylesheet=function(e){for(var t={},o=0,i=Object.getOwnPropertyNames(e);o<i.length;o++){var r=i[o],s=e[r];s&&(s.$debugName=r,t[r]=n.style(s))}return t};var o=a();this._autoGenerateTag=t,this._freeStyle=o,this._lastFreeStyleChangeId=o.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;r(function(){n===t._pending&&e()})},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync(function(){return e.forceRenderStyles()}))},e}();n("./node_modules/typestyle/lib.es2015/types.js");n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var l=new c({autoGenerateTag:!0}),u=(l.setStylesTarget,l.cssRaw,l.cssRule,l.forceRenderStyles,l.fontFace,l.getStyles,l.keyframes),d=(l.reinit,l.style);l.stylesheet},"./node_modules/typestyle/lib.es2015/types.js":function(e,t){},"./src/packages/issue/issue-view/src/activity/comment/comment-reactions/index.js":function(e,t,n){"use strict";n.r(t);var o,i=n("./node_modules/react-redux/es/index.js"),r=n("./src/packages/issue/issue-view/src/common/state/selectors/issue-selector.js"),s=n("./src/packages/issue/issue-view/src/common/state/selectors/reactions-selector.js"),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./src/packages/common-legacy-do-not-add-anything-new/src/services/emoji.js"),u=n("./node_modules/tslib/tslib.es6.js"),d=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/util-service-support/dist/esm/index.js"),p=function(){function e(e,t){var n=this;this.requestService=function(e,t){return d.b.requestService(n.serviceConfig,u.__assign({},t,{path:e}))},this.serviceConfig={url:e},this.sessionToken=t}return e.prototype.getHeaders=function(e){void 0===e&&(e=!0);var t={Accept:"application/json"};return e&&(t["Content-Type"]="application/json"),this.sessionToken&&(t.Authorization=this.sessionToken),t},e.prototype.getReactions=function(e,t){return 0===t.length?Promise.resolve({}):this.requestService("reactions/view",{requestInit:{method:"POST",headers:this.getHeaders(),body:JSON.stringify({containerAri:e,aris:t})}})},e.prototype.getDetailedReaction=function(e,t,n){var o=e+"|"+t+"|"+n,i=this.getHeaders(!1);return this.requestService("reactions",{queryParams:{reactionId:o},requestInit:{headers:i,method:"GET",credentials:"include"}})},e.prototype.addReaction=function(e,t,n){return this.requestService("reactions",{requestInit:{method:"POST",headers:this.getHeaders(),body:JSON.stringify({emojiId:n,ari:t,containerAri:e}),credentials:"include"}}).then(function(e){return e.reactions})},e.prototype.deleteReaction=function(e,t,n){return this.requestService("reactions",{queryParams:{ari:t,emojiId:n,containerAri:e},requestInit:{method:"DELETE",headers:this.getHeaders(),credentials:"include"}}).then(function(e){return e.reactions})},e}(),m=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/analytics-next/withAnalyticsEvents.js"),f=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/util/constants.js"),h=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/EmojiPlaceholder.js"),g=function(e){function t(t,n){var o=e.call(this,t)||this;return o.isUnmounted=!1,o.loaded=function(e){return!!e.asyncLoadedComponent&&!!e.loadedEmojiProvider},o.state=n,o.loadEmojiProvider(o.props.emojiProvider),o}return u.__extends(t,e),t.prototype.componentDidMount=function(){this.state.asyncLoadedComponent||this.asyncLoadComponent()},t.prototype.componentWillReceiveProps=function(e){this.loadEmojiProvider(e.emojiProvider)},t.prototype.componentWillUnmount=function(){this.isUnmounted=!0},t.prototype.loadEmojiProvider=function(e){var t=this;e.then(function(e){t.isUnmounted||t.setState({loadedEmojiProvider:e})}).catch(function(){t.isUnmounted||t.setState({loadedEmojiProvider:void 0})})},t.prototype.setAsyncState=function(e){this.isUnmounted||this.setState({asyncLoadedComponent:e})},t.prototype.renderLoading=function(){return null},t.prototype.render=function(){if(this.loaded(this.state)){var e=this.state,t=e.loadedEmojiProvider,n=e.asyncLoadedComponent;return this.renderLoaded(t,n)}return this.renderLoading()},t}(a.Component),y=function(){return function(){return n.e(279).then(n.bind(null,"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/common/ResourcedEmojiComponent.js"))}().then(function(e){return e.default})},v=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={asyncLoadedComponent:t.AsyncLoadedComponent},n}return u.__extends(t,e),t.prototype.asyncLoadComponent=function(){var e=this;y().then(function(n){t.AsyncLoadedComponent=n,e.setAsyncState(n)})},t.prototype.renderLoading=function(){var e=this.props,t=e.fitToHeight,n=e.emojiId,o=e.showTooltip;return a.createElement(h.a,{shortName:n.shortName,showTooltip:o,size:t||f.f})},t.prototype.renderLoaded=function(e,t){var n=this.props,o=(n.emojiProvider,u.__rest(n,["emojiProvider"]));return a.createElement(t,u.__assign({},o,{emojiProvider:e}))},t}(g),j=n("./node_modules/@atlaskit/theme/constants.js"),b=n("./node_modules/@atlaskit/theme/index.js"),_=n("./node_modules/classnames/index.js"),x=n.n(_),k=n("./node_modules/typestyle/lib.es2015/index.js"),w=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/analytics-next/createAndFireEvent.js"),E=n("./node_modules/@atlaskit/analytics-gas-types/dist/esm/index.js"),O=n("./node_modules/@atlaskit/reactions/version.json"),S=Object(w.a)("fabric-elements"),C=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];e&&S(t.apply(void 0,u.__spread(n)))(e)},P=function(e,t,n,o){return function(i){return{action:e,actionSubject:t,eventType:n,actionSubjectId:o,attributes:u.__assign({},i,{packageName:O.a,packageVersion:O.b})}}},R=function(e){return e?Date.now()-e:void 0},N=function(e){return e?e.reacted?"existingReacted":"existingNotReacted":"new"},A=function(e){return P("rendered","reactionView",E.OPERATIONAL_EVENT_TYPE)({duration:R(e)})},I=function(e){return P("clicked","reactionPickerButton",E.UI_EVENT_TYPE)({reactionEmojiCount:e})},M=function(e){return P("cancelled","reactionPicker",E.UI_EVENT_TYPE)({duration:R(e)})},T=function(e){return P("clicked","reactionPicker",E.UI_EVENT_TYPE,"more")({duration:R(e)})},D=function(e,t,n,o){return P("clicked","reactionPicker",E.UI_EVENT_TYPE,"emoji")({duration:R(o),source:e,previousState:N(n),emojiId:t})},L=function(e){return P("hovered","existingReaction",E.UI_EVENT_TYPE)({duration:R(e)})},F=function(e,t){return P("clicked","existingReaction",E.UI_EVENT_TYPE)({added:e,emojiId:t})},U=n("./node_modules/react-transition-group/index.js"),z=Object(k.b)({fontSize:"12px",lineHeight:"24px",color:b.colors.N90,overflow:"hidden",height:24,transition:"width 300ms ease-in-out"}),$=Object(k.b)({color:b.colors.B400,fontWeight:600}),H=Object(k.b)({display:"flex",flexDirection:"column"}),q=function(e,t){return Object(k.a)({"0%":{transform:"translateY("+e+"%)"},"100%":{transform:"translateY("+t+"%)"}})+" 300ms ease-in-out"},B=function(e,t){return Object(k.b)({animation:q(e,t)})},W=B(0,-50),V=B(-50,0),Y=function(e){function t(t){var n=e.call(this,t)||this;return n.getLabel=function(e){var t=n.props.overLimitLabel;return n.hasReachedLimit(e)?t||"":e.toString()},n.hasReachedLimit=function(e){return n.props.limit&&e>=n.props.limit},n.renderPrevious=function(){var e,t=n.state.previous;if(void 0!==t){var o=x()(((e={})[$]=t.highlight,e));return a.createElement("div",{key:t.value,className:o},n.getLabel(t.value))}return null},n.clearPrevious=function(){n.setState({previous:void 0})},n.state={previous:void 0},n}return u.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.props,n=t.value,o=t.highlight;void 0===n||n===e.value||this.hasReachedLimit(n)&&this.hasReachedLimit(e.value)||this.setState({previous:{value:n,highlight:o}})},t.prototype.render=function(){var e,t=this.props,n=t.value,o=t.highlight,i=t.className,r=this.state.previous,s=this.getLabel(n),c=void 0!==r&&r.value<n,l=void 0!==r&&r.value>n,u=c?W:l?V:void 0,d=x()(z,i),p=x()(((e={})[$]=o,e));return a.createElement("div",{className:d,style:{width:10*s.length}},a.createElement(U.CSSTransition,{classNames:{enter:u},timeout:300,in:c||l,onEntered:this.clearPrevious},a.createElement("div",{className:H},c?this.renderPrevious():null,a.createElement("div",{className:p,key:n},s),l?this.renderPrevious():null)))},t.defaultProps={highlight:!1,limit:100,overLimitLabel:"99+",className:void 0},t}(a.PureComponent),G=Object(k.b)({width:"100%",height:"100%"}),J=Object(k.a)({"0%":{backgroundColor:"transparent"},"20%":{backgroundColor:b.colors.B75},"75%":{backgroundColor:b.colors.B75},"100%":{backgroundColor:"transparent"}}),K=Object(k.b)({animation:J+" 700ms ease-in-out"}),X=function(e){var t;return a.createElement("div",{className:x()(G,e.className,(t={},t[K]=e.flash,t))},e.children)},Q=n("./node_modules/@atlaskit/tooltip/components/Tooltip.js"),Z=Object(k.b)({maxWidth:"150px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",$nest:{ul:{listStyle:"none",margin:0,padding:0,textAlign:"left"},li:{overflow:"hidden",textOverflow:"ellipsis",marginTop:0}}}),ee=Object(k.b)({textTransform:"capitalize",marginBottom:5}),te=Object(k.b)({marginTop:5}),ne=function(e){var t=e.emojiName,n=e.children,o=e.reaction.users,i=o&&o.length>0?a.createElement("div",{className:Z},t?a.createElement("span",{className:ee},t):null,a.createElement("ul",null,o.slice(0,5).map(function(e,t){return a.createElement("li",{key:t},e.displayName)})),o.length>5?a.createElement("span",{className:te},"+",o.length-5,"..."):null):void 0;return a.createElement(Q.a,{content:i,position:"bottom"},a.Children.only(n))},oe=function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},ie=Object(j.f)()+"px",re=b.colors.N30A,se=b.colors.N400,ae=Object(k.b)({transformOrigin:"center center 0",margin:"0 4px"}),ce=Object(k.b)({outline:"none",display:"flex",flexDirection:"row",minWidth:"36px",height:"24px",lineHeight:"24px",background:"transparent",border:"0",borderRadius:ie,color:se,cursor:"pointer",padding:0,margin:0,transition:"200ms ease-in-out",$nest:{"&:hover":{background:re}}}),le=Object(k.b)({display:"flex",flexDirection:"row",borderRadius:ie}),ue=Object(k.b)({padding:"0 4px 0 0"}),de=function(e){function t(t){var n=e.call(this,t)||this;return n.mounted=!1,n.handleMouseDown=function(e){if(e.preventDefault(),n.props.onClick&&oe(e)){var t=n.props,o=t.reaction,i=t.createAnalyticsEvent,r=o.reacted,s=o.emojiId;C(i,F,!r,s),n.props.onClick(n.props.reaction.emojiId,e)}},n.handleMouseOver=function(e){e.preventDefault();var t=n.props,o=t.onMouseOver,i=t.reaction;i.users&&i.users.length||(n.hoverStart=Date.now()),o&&o(n.props.reaction,e)},n.state={},n}return u.__extends(t,e),t.prototype.componentDidUpdate=function(e){!e.reaction.users&&this.props.reaction.users&&C(this.props.createAnalyticsEvent,L,this.hoverStart)},t.prototype.componentDidMount=function(){var e=this;this.mounted=!0,this.props.emojiProvider.then(function(t){return t.findByEmojiId({shortName:"",id:e.props.reaction.emojiId})}).then(function(t){t&&e.mounted&&e.setState({emojiName:t.name})})},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.render=function(){var e=this.props,t=e.emojiProvider,n=e.reaction,o=e.className,i=e.flash,r=this.state.emojiName,s=x()(ce,o),c={id:n.emojiId,shortName:""};return a.createElement(ne,{emojiName:r,reaction:n},a.createElement("button",{className:s,onMouseUp:this.handleMouseDown,onMouseOver:this.handleMouseOver},a.createElement(X,{flash:i,className:le},a.createElement("div",{className:ae},a.createElement(v,{emojiProvider:t,emojiId:c,fitToHeight:16})),a.createElement(Y,{className:ue,value:n.count,highlight:n.reacted}))))},t.defaultProps={flash:!1,className:void 0,onMouseOver:void 0,flashOnMount:!1},t.displayName="Reaction",t}(a.PureComponent),pe=Object(m.a)()(de),me=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/picker/EmojiPickerVirtualItems.js"),fe=n("./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/picker/styles.js"),he=function(){return function(){return n.e(274).then(n.bind(null,"./node_modules/@atlaskit/reactions/node_modules/@atlaskit/emoji/components/picker/EmojiPickerComponent.js"))}().then(function(e){return e.default})},ge=function(e){function t(n){var o=e.call(this,n,{})||this;return o.state={asyncLoadedComponent:t.AsyncLoadedComponent},o}return u.__extends(t,e),t.prototype.asyncLoadComponent=function(){var e=this;he().then(function(n){t.AsyncLoadedComponent=n,e.setAsyncState(n)})},t.prototype.renderLoading=function(){var e=this,t=new me.c;return a.createElement("div",{className:fe.g,ref:function(t){e.props.onPickerRef&&e.props.onPickerRef(t)}},t.renderItem())},t.prototype.renderLoaded=function(e,t){var n=this.props,o=(n.emojiProvider,u.__rest(n,["emojiProvider"]));return a.createElement(t,u.__assign({emojiProvider:e},o))},t}(g),ye=Object(m.a)()(ge),ve=n("./node_modules/@atlaskit/layer/components/Layer.js"),je=n("./node_modules/react-dom/index.js"),be=Object(k.b)({outline:"none",display:"flex",backgroundColor:"transparent",border:0,borderRadius:"5px",cursor:"pointer",margin:"0",padding:"10px 8px",$nest:{"&:hover > span":{transition:"transform cubic-bezier(0.23, 1, 0.32, 1) 200ms",transform:"scale(1.33)"}}}),_e=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(e){e.preventDefault(),t.props.onClick&&oe(e)&&t.props.onClick(t.props.emojiId,void 0,e)},t}return u.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.emojiId,n=e.emojiProvider;return a.createElement("button",{onMouseUp:this.handleMouseDown,className:be},a.createElement(v,{emojiProvider:n,emojiId:t}))},t}(a.PureComponent),xe=n("./node_modules/@atlaskit/icon/glyph/editor/more.js"),ke=n.n(xe),we=n("./node_modules/react-intl/lib/index.es.js"),Ee=Object(we.defineMessages)({loadingReactions:{id:"fabric.reactions.loading",defaultMessage:"Loading...",description:"Message while reactions are being loaded"},moreEmoji:{id:"fabric.reactions.more.emoji",defaultMessage:"More emoji",description:'Tooltip of the "show more" button in the quick reaction selector. The full emoji selector is displayed when the user clicks on it.'},unexpectedError:{id:"fabric.reactions.error.unexpected",defaultMessage:"Something went wrong",description:"Unexpected error message"}}),Oe=Object(k.b)({display:"flex"}),Se=Object(k.b)({opacity:0,outline:"none",backgroundColor:"transparent",border:0,borderRadius:Object(j.f)()+"px",cursor:"pointer",margin:"4px 4px 4px 0",padding:"4px",width:"38px",verticalAlign:"top",$nest:{"&:hover":{backgroundColor:b.colors.N30A}}}),Ce=Object(k.b)({backgroundColor:b.colors.N30A,margin:"8px 8px 8px 4px",width:"1px",height:"60%",display:"inline-block"}),Pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.onClick,o=e.className;return a.createElement("div",{className:x()(Oe,o.container),style:t.container},a.createElement("div",{className:Ce}),a.createElement(we.FormattedMessage,u.__assign({},Ee.moreEmoji),function(e){return a.createElement(Q.a,{content:e},a.createElement("button",{className:x()(Se,o.button),style:t.button,onMouseDown:n},a.createElement(ke.a,{label:"More"})))}))},t.defaultProps={className:{},style:{}},t}(a.PureComponent),Re=Object(k.b)({boxSizing:"border-box",display:"flex",padding:0}),Ne=Object(k.b)({display:"inline-block",opacity:0,$nest:{"&.selected":{transition:"transform 200ms ease-in-out  ",transform:"translateY(-48px) scale(2.667)"}}}),Ae=Object(k.a)({"0%":{opacity:1,transform:"scale(0.5)"},"75%":{transform:"scale(1.25)"},"100%":{opacity:1,transform:"scale(1)"}}),Ie=Object(k.b)({animation:Ae+" 150ms ease-in-out forwards"}),Me=function(e){return{animationDelay:50*e+"ms"}},Te=[{id:"1f44d",shortName:":thumbsup:"},{id:"1f44e",shortName:":thumbsdown:"},{id:"1f525",shortName:":fire:"},{id:"1f60d",shortName:":heart_eyes:"},{id:"1f602",shortName:":joy:"},{id:"1f622",shortName:":cry:"}],De=new Map(Te.map(function(e){return[e.shortName,e]})),Le=function(e){function t(t){var n=e.call(this,t)||this;return n.onEmojiSelected=function(e,t,o){n.timeouts.push(window.setTimeout(function(){return n.props.onSelection(e,t,o)},250)),n.setState({selection:e})},n.renderEmoji=function(e,t){var o=n.props.emojiProvider,i=e.id||e.shortName,r=x()(Ne,Ie,{selected:e===n.state.selection}),s=Me(t);return a.createElement("div",{key:i,className:r,style:s},a.createElement(Q.a,{content:e.shortName},a.createElement(_e,{emojiId:e,emojiProvider:o,onClick:n.onEmojiSelected})))},n.renderShowMore=function(){return a.createElement(Pe,{key:"more",className:{button:Ie},style:{button:Me(Te.length)},onClick:n.props.onMoreClick})},n.timeouts=[],n.state={selection:void 0},n}return u.__extends(t,e),t.prototype.componentWillUnmount=function(){this.timeouts.forEach(clearTimeout)},t.prototype.render=function(){var e=this.props.showMore;return a.createElement("div",{className:Re},Te.map(this.renderEmoji),e?this.renderShowMore():null)},t}(a.PureComponent),Fe=n("./node_modules/@atlaskit/button/components/Button.js"),Ue=n("./node_modules/@atlaskit/icon/glyph/emoji-add.js"),ze=n.n(Ue),$e=Object(k.b)({width:"32px",height:"32px",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"16px",$nest:{"&.miniMode":{width:"24px",height:"24px"}}}),He=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(){t.props.onClick&&t.props.onClick()},t}return u.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.miniMode,n=e.disabled,o=x()($e,{miniMode:t});return a.createElement(Fe.b,{className:o,appearance:"subtle",onClick:this.handleMouseDown,isDisabled:n,spacing:"none"},a.createElement(ze.a,{size:"small",label:"Add reaction"}))},t.defaultProps={disabled:!1},t}(a.PureComponent),qe=Object(j.f)()+"px",Be=b.colors.N0,We=b.colors.N50A,Ve=b.colors.N60A,Ye=Object(k.b)({verticalAlign:"middle",$nest:{"&.miniMode":{display:"inline-block",marginRight:"4px"}}}),Ge=Object(k.b)({display:"flex"}),Je=Object(k.b)({background:Be,borderRadius:qe,boxShadow:"0 4px 8px -2px "+We+", 0 0 1px "+Ve,$nest:{"&> div":{boxShadow:void 0}}}),Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickOutside=function(e){if(n.state.isOpen){var t=je.findDOMNode(n);(!t||e.target instanceof Node&&!t.contains(e.target))&&(n.props.onCancel&&n.props.onCancel(),n.close())}},n.showFullPicker=function(e){e.preventDefault();var t=n.props.onMore;t&&t(),n.setState({isOpen:!0,showFullPicker:!0})},n.onEmojiSelected=function(e){var t=n.props.onSelection;e.id&&(t(e.id,n.state.showFullPicker?"emojiPicker":"quickSelector"),n.close(e.id))},n.onTriggerClick=function(){n.props.onOpen&&n.props.onOpen(),n.setState({isOpen:!n.state.isOpen,showFullPicker:!1})},n.state={isOpen:!1,showFullPicker:!1},n}return u.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("click",this.handleClickOutside)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleClickOutside)},t.prototype.close=function(e){this.setState({isOpen:!1,showFullPicker:!1})},t.prototype.renderSelector=function(){var e=this.props,t=e.emojiProvider,n=e.allowAllEmojis;return a.createElement("div",{className:Ge},a.createElement(Le,{emojiProvider:t,onSelection:this.onEmojiSelected,showMore:n,onMoreClick:this.showFullPicker}))},t.prototype.renderEmojiPicker=function(){return a.createElement(ye,{emojiProvider:this.props.emojiProvider,onSelection:this.onEmojiSelected})},t.prototype.renderContent=function(){return this.state.showFullPicker?this.renderEmojiPicker():this.renderSelector()},t.prototype.renderPopup=function(){return this.state.isOpen?a.createElement("div",{className:Je},this.renderContent()):null},t.prototype.renderTrigger=function(e){var t=this.props.miniMode;return a.createElement(ve.a,{content:e,position:"bottom left",autoFlip:["top","bottom"],boundariesElement:"scrollParent"},a.createElement(He,{onClick:this.onTriggerClick,miniMode:t,disabled:this.props.disabled}))},t.prototype.render=function(){var e=this.state.isOpen,t=this.props.miniMode,n=x()(Ye,{isOpen:e,miniMode:t},this.props.className);return a.createElement("div",{className:n},this.renderTrigger(this.renderPopup()))},t.defaultProps={disabled:!1},t}(a.PureComponent);!function(e){e.ready="READY",e.loading="LOADING",e.error="ERROR",e.notLoaded="NOT_LOADED"}(o||(o={}));var Xe=Object(k.b)({display:"inline-block",margin:"2px 4px 0 4px"}),Qe=Object(k.b)({display:"flex",flexWrap:"wrap",position:"relative",background:"white",alignItems:"center",borderRadius:"15px",marginTop:"-2px",$nest:{"& > :first-child":{marginLeft:0}}}),Ze=function(e){function t(t){var n=e.call(this,t)||this;return n.componentDidUpdate=function(){n.props.status===o.ready&&n.renderTime&&(C(n.props.createAnalyticsEvent,A,n.renderTime),n.renderTime=void 0)},n.isDisabled=function(){return n.props.status!==o.ready},n.getTooltip=function(){var e=n.props,t=e.status,i=e.errorMessage;switch(t){case o.error:return i||a.createElement(we.FormattedMessage,u.__assign({},Ee.unexpectedError));case o.loading:case o.notLoaded:return a.createElement(we.FormattedMessage,u.__assign({},Ee.loadingReactions));default:return}},n.handleReactionMouseOver=function(e){n.props.onReactionHover&&n.props.onReactionHover(e.emojiId)},n.handlePickerOpen=function(){n.openTime=Date.now(),C(n.props.createAnalyticsEvent,I,n.props.reactions.length)},n.handleOnCancel=function(){C(n.props.createAnalyticsEvent,M,n.openTime),n.openTime=void 0},n.handleOnMore=function(){C(n.props.createAnalyticsEvent,T,n.openTime)},n.handleOnSelection=function(e,t){C(n.props.createAnalyticsEvent,D,t,e,n.props.reactions.find(function(t){return t.emojiId===e}),n.openTime),n.openTime=void 0,n.props.onSelection&&n.props.onSelection(e)},n.renderReaction=function(e){return a.createElement(pe,{key:e.emojiId,className:Xe,reaction:e,emojiProvider:n.props.emojiProvider,onClick:n.props.onReactionClick,onMouseOver:n.handleReactionMouseOver,flash:n.props.flash[e.emojiId]})},t.status!==o.ready&&(n.renderTime=Date.now()),n}return u.__extends(t,e),t.prototype.componentDidMount=function(){this.props.status===o.notLoaded&&this.props.loadReaction()},t.prototype.renderPicker=function(){var e=this.props,t=e.emojiProvider,n=e.boundariesElement,o=e.allowAllEmojis;return a.createElement(Q.a,{content:this.getTooltip()},a.createElement(Ke,{className:Xe,emojiProvider:t,miniMode:!0,boundariesElement:n,allowAllEmojis:o,disabled:this.isDisabled(),onSelection:this.handleOnSelection,onOpen:this.handlePickerOpen,onCancel:this.handleOnCancel,onMore:this.handleOnMore}))},t.prototype.render=function(){return a.createElement("div",{className:Qe},this.props.reactions.map(this.renderReaction),this.renderPicker())},t.defaultProps={flash:{},reactions:[]},t.displayName="Reactions",t}(a.PureComponent),et=Object(m.a)()(Ze),tt=function(e){function t(t){var n=e.call(this,t)||this;return n.getPropsFromActions=function(e){var t=n.props.actionsMapper;return t&&(n.previousActions&&n.propsFromActions&&n.previousActions===e||(n.propsFromActions=t(e))),n.previousActions=e,n.propsFromActions},n.getPropsFromState=function(e){var t=n.props.stateMapper;if(t)return t(e)},n.handleOnChange=function(){n.forceUpdate()},n.state={},n}return u.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;Promise.resolve(this.props.store).then(function(t){e.setState({store:t}),t.onChange(e.handleOnChange)})},t.prototype.componentWillUnmount=function(){this.state.store&&this.state.store.removeOnChangeListener(this.handleOnChange)},t.prototype.render=function(){return this.state.store?this.props.children(Object.assign({},this.getPropsFromState(this.state.store.getState()),this.getPropsFromActions(this.state.store))):null},t}(a.PureComponent),nt=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderChild=function(e){return a.createElement(Ke,u.__assign({},t.props,e))},t.actionsMapper=function(e){return{onSelection:function(n){e.addReaction(t.props.containerAri,t.props.ari,n)}}},t}u.__extends(t,e),t.prototype.render=function(){return a.createElement(tt,{store:this.props.store,actionsMapper:this.actionsMapper},this.renderChild)}}(a.PureComponent),n("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),ot=n.n(nt),it=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),rt=n.n(it),st=n("./node_modules/@babel/runtime/helpers/createClass.js"),at=n.n(st),ct=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),lt=n.n(ct),ut=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),dt=n.n(ut),pt=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),mt=n.n(pt),ft=n("./node_modules/@babel/runtime/helpers/inherits.js"),ht=n.n(ft),gt=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),yt=n.n(gt),vt=n("./node_modules/prop-types/index.js"),jt={getAtlaskitAnalyticsContext:n.n(vt).a.func},bt=function(e){function t(){var e,n;rt()(this,t);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return n=lt()(this,(e=dt()(t)).call.apply(e,[this].concat(i))),yt()(mt()(n),"getChildContext",function(){return{getAtlaskitAnalyticsContext:n.getAnalyticsContext}}),yt()(mt()(n),"getAnalyticsContext",function(){var e=n.props.data,t=n.context.getAtlaskitAnalyticsContext,o="function"==typeof t&&t()||[];return[].concat(ot()(o),[e])}),n}return ht()(t,e),at()(t,[{key:"render",value:function(){return a.Children.only(this.props.children)}}]),t}(a.Component);yt()(bt,"contextTypes",jt),yt()(bt,"childContextTypes",jt);var _t=function(e,t){void 0===t&&(t="NamespacedContext");var n=function(t){var n,o=((n={})[e]=t.data,n);return a.createElement(bt,{data:o},a.Children.only(t.children))};return n.displayName=t,n},xt=_t("fabricElementsCtx","FabricElementsAnalyticsContext"),kt=(_t("navigationCtx","NavigationAnalyticsContext"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderChild=function(e){var n=t.props,o=n.containerAri,i=n.ari;return a.createElement(xt,{data:{containerAri:o,ari:i}},a.createElement(et,u.__assign({key:t.props.containerAri+"|"+t.props.ari},t.props,e)))},t.stateMapper=function(e){var n=t.props,i=n.containerAri,r=n.ari,s=e.reactions[i+"|"+r];if(!s)return{status:o.notLoaded};switch(s.status){case o.ready:return{reactions:s.reactions,status:s.status,flash:e.flash[i+"|"+r]};default:return{status:o.loading}}},t.actionsMapper=function(e){return{loadReaction:function(){e.getReactions(t.props.containerAri,t.props.ari)},onReactionClick:function(n){e.toggleReaction(t.props.containerAri,t.props.ari,n)},onReactionHover:function(n){e.getDetailedReaction(t.props.containerAri,t.props.ari,n)},onSelection:function(n){e.addReaction(t.props.containerAri,t.props.ari,n)}}},t}return u.__extends(t,e),t.prototype.render=function(){return a.createElement(tt,{store:this.props.store,actionsMapper:this.actionsMapper,stateMapper:this.stateMapper},this.renderChild)},t}(a.PureComponent));var wt=function(e,t){return e.count>t.count?-1:e.count<t.count?1:function(e,t){return e.localeCompare(t)}(e.emojiId,t.emojiId)},Et=function(e){return{status:o.ready,reactions:e.filter(function(e){return e.count>0})}},Ot=function(e){return u.__assign({},e,{count:e.count+1,reacted:!0})},St=function(e){return u.__assign({},e,{count:e.count-1,reacted:!1})},Ct=function(e){return e&&e.length?function(e){var t=e.reduce(function(e,t,n){return e[t.emojiId]=n,e},{}),n=function(n){var o=n.emojiId;return void 0===t[o]?e.length:t[o]};return function(e,t){return n(e)-n(t)}}(e):wt},Pt=function(e,t){return e.concat(t)},Rt=function(){function e(e,t){void 0===t&&(t={reactions:{},flash:{}});var n=this;this.callbacks=[],this.setState=function(e){n.state=u.__assign({},n.state,e),n.triggerOnChange()},this.triggerOnChange=function(e){var t=[];return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];0===t.length&&(window.setTimeout(function(){e(t),t=[]}),t=[]),t.push(n)}}(function(){return n.callbacks.forEach(function(e){return e(n.state)})}),this.setReactions=function(e,t,o){var i;n.setState({reactions:u.__assign({},n.state.reactions,(i={},i[e+"|"+t]=o,i))})},this.handleDetailedReactionResponse=function(e){var t=e.containerAri,o=e.ari,i=e.emojiId;n.withReaction(function(t){return u.__assign({},t,{users:e.users})})(t,o,i)},this.flash=function(e){n.setFlash(e.containerAri,e.ari,e.emojiId,!0),window.setTimeout(function(){return n.setFlash(e.containerAri,e.ari,e.emojiId,!1)},700)},this.optmisticUpdate=function(e,t,o){return function(i){n.withReadyReaction(e,t)(function(n){var r=!1,s=n.reactions.map(function(e){if(e.emojiId===o){r=!0;var t=i(e);if(t)return u.__assign({},t,{optimisticallyUpdated:!0})}return e});if(!r){var a=i({containerAri:e,ari:t,emojiId:o,count:0,reacted:!1});a&&s.push(u.__assign({},a,{optimisticallyUpdated:!0}))}return Et(s)})}},this.doAddReaction=function(e){var t=e.containerAri,o=e.ari,i=e.emojiId;n.optmisticUpdate(t,o,i)(Ot),n.flash(e),n.client.addReaction(t,o,i)},this.doRemoveReaction=function(e){var t=e.containerAri,o=e.ari,i=e.emojiId;n.optmisticUpdate(t,o,i)(St),n.client.deleteReaction(t,o,i)},this.getReactions=function(e){var t={};return function(n){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];t[n]||(window.setTimeout(function(){e(n,t[n]),delete t[n]}),t[n]=[]),t[n].push(o)}}(function(e,t){n.client.getReactions(e,t.reduce(Pt)).then(function(t){Object.keys(t).map(function(i){var r=n.getReactionsState(e,i),s=r&&r.status===o.ready?r.reactions:void 0;n.setReactions(e,i,Et(t[i].sort(Ct(s))))})})}),this.toggleReaction=this.withReaction(this.doRemoveReaction,this.doAddReaction),this.addReaction=this.withReaction(this.flash,this.doAddReaction),this.getDetailedReaction=function(e,t,o){n.client.getDetailedReaction(e,t,o).then(n.handleDetailedReactionResponse)},this.getState=function(){return n.state},this.onChange=function(e){n.callbacks.push(e)},this.removeOnChangeListener=function(e){n.callbacks=n.callbacks.filter(function(t){return t!==e})},this.client=e,this.state=t}return e.prototype.getReactionsState=function(e,t){return this.state.reactions[e+"|"+t]},e.prototype.setFlash=function(e,t,n,o){var i,r;this.setState({flash:u.__assign({},this.state.flash,(i={},i[e+"|"+t]=u.__assign({},this.state.flash[e+"|"+t],(r={},r[n]=o,r)),i))})},e.prototype.withReadyReaction=function(e,t){var n=this;return function(i){var r=n.getReactionsState(e,t);if(r.status===o.ready){var s=i(r);s&&n.setReactions(e,t,s)}}},e.prototype.withReaction=function(e,t){var n=this;return function(o,i,r){n.withReadyReaction(o,i)(function(n){var s=n.reactions.find(function(e){return function(t){return t.emojiId===e}}(r))||{containerAri:o,ari:i,emojiId:r,count:0,reacted:!1},a=(s.reacted||!t?e:t)(s);if(a&&!(a instanceof Function))return Et(n.reactions.map(function(e,t){return function(n){return n.emojiId===e?t instanceof Function?t(n):t:n}}(r,a)))})}},e}(),Nt="ari:cloud:owner:demo-cloud-id:container/1",At="ari:cloud:owner:demo-cloud-id:item/1",It=function(e,t,n){return{ari:At,containerAri:Nt,emojiId:De.get(e).id,count:t,reacted:n}},Mt=function(e,t){return{id:e,displayName:t}},Tt=function(e,t){return e+"|"+t},Dt=[Mt("oscar","Oscar Wallhult"),Mt("julien","Julien Michel Hoarau"),Mt("craig","Craig Petchell"),Mt("jerome","Jerome Touffe-Blin"),Mt("esoares","Eduardo Soares"),Mt("lpereira","Luiz Pereira"),Mt("pcurren","Paul Curren"),Mt("ttjandra","Tara Tjandra"),Mt("severington","Ste Everington"),Mt("sguillope","Sylvain Guillope"),Mt("alunnon","Alex Lunnon")],Lt=function(){function e(e){var t;void 0===e&&(e=0);var n=this;this.mockData=((t={})[Tt(Nt,At)]=[It(":fire:",1,!0),It(":thumbsup:",9,!1),It(":thumbsdown:",5,!1),It(":heart_eyes:",100,!1)],t),this.delayPromise=function(){return new Promise(function(e){return window.setTimeout(e,n.delay)})},this.delay=e}return e.prototype.getReactions=function(e,t){var n=this;return this.delayPromise().then(function(){return t.reduce(function(t,o){var i=Tt(e,o);return t[o]=n.mockData[i]||[],t},{})})},e.prototype.getDetailedReaction=function(e,t,n){var o=this;return this.delayPromise().then(function(){var i=e+"|"+t,r=o.mockData[i];if(r){var s=r.find(function(e){return e.emojiId===n});if(s){var a=u.__spread(Dt).slice(Math.floor(4*Math.random()),Math.floor(9*Math.random())+4).slice(0,s.count);return u.__assign({},s,{users:a})}}return{containerAri:e,ari:t,emojiId:n,count:1,reacted:!0,users:[]}})},e.prototype.addReaction=function(e,t,n){var o=this;return this.delayPromise().then(function(){var i=Tt(e,t),r=!1,s=o.mockData[i];return s&&(o.mockData[i]=s.map(function(e){return e.emojiId===n?(r=!0,u.__assign({},e,{count:e.count+1,reacted:!0})):e})),r||(o.mockData[i]=u.__spread(s||[],[{containerAri:e,ari:t,emojiId:n,count:1,reacted:!0}])),o.mockData[i]})},e.prototype.deleteReaction=function(e,t,n){var o=this;return this.delayPromise().then(function(){var i=Tt(e,t);return o.mockData[i]=o.mockData[i].map(function(e){if(e.emojiId===n){if(1===e.count)return;return u.__assign({},e,{count:e.count-1,reacted:!1})}return e}).filter(function(e){return!!e}),o.mockData[i]})},e}(),Ft=n("./src/packages/common-legacy-do-not-add-anything-new/src/services/service-repo.js"),Ut=new Rt(new p(Object(Ft.a)("reactions"))),zt=(new Rt(new Lt),n("./src/packages/issue/issue-view/src/common/state/selectors/context-selector.js")),$t=n("./src/packages/issue/issue-view/src/common/util/flow-with-safe-component/index.js");function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Bt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Bt(this,Wt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(t,a["Component"]),function(e,t,n){t&&qt(e.prototype,t),n&&qt(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.containerAri,n=e.objectAri,o=e.reactionsStore,i=e.emojiProvider;return e.showReactions?c.a.createElement(kt,{ari:n,containerAri:t,store:o,emojiProvider:i,allowAllEmojis:!0}):null}}]),t}();Yt.displayName="Reactions",Yt.displayName="Reactions";var Gt=Object($t.a)([Object(i.connect)(function(e){return{emojiProvider:Object(l.a)(),reactionsStore:Ut,cloudId:Object(zt.i)(e),showReactions:!!(Object(s.b)(e)&&Ut&&Object(l.a)())}},{})])(Yt);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xt(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var en=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xt(this,Qt(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,a["Component"]),function(e,t,n){t&&Kt(e.prototype,t),n&&Kt(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.issueAri,n=e.commentAri;return e.visible&&Ut&&Object(l.a)()?c.a.createElement(Gt,{containerAri:t,objectAri:n}):null}}]),t}();en.displayName="CommentReactions",en.defaultProps={visible:!1,commentAri:void 0,issueAri:void 0};t.default=Object(i.connect)(function(e,t){var n=t.commentId;return{visible:Object(s.b)(e),issueAri:Object(r.t)(e),commentAri:Object(s.a)(n)(e)}},{})(en)}}]);try{window.__jsEvalStop("async-comment-reactions.js")}catch(e){}
//# sourceMappingURL=async-comment-reactions.94ef143e88b7fcce28fe.8.js.map
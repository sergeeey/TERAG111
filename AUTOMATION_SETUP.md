# ü§ñ TERAG AI-REPS Automation Setup

## –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ TERAG AI-REPS –≤–∫–ª—é—á–∞–µ—Ç:
- **–ù–æ—á–Ω–æ–π –∞—É–¥–∏—Ç** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- **CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ GitHub Actions
- **–î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–æ—á–Ω–æ–≥–æ –∞—É–¥–∏—Ç–∞ (Windows)

```powershell
# –ó–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
.\scripts\setup_nightly_audit.ps1

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫
.\scripts\test_nightly_audit.ps1

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
.\scripts\run_nightly_audit.ps1
```

### 2. –ó–∞–ø—É—Å–∫ –¥–∞—à–±–æ—Ä–¥–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```bash
# –ó–∞–ø—É—Å–∫ API —Å–µ—Ä–≤–µ—Ä–∞
python scripts/run_api.py

# –û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥
# http://localhost:8000/audit-dashboard.html
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD

–§–∞–π–ª `.github/workflows/audit-environment.yml` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –±—É–¥–µ—Ç:
- –ó–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ push –≤ main/develop
- –í—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00 UTC
- –°–æ–∑–¥–∞–≤–∞—Ç—å issues –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å PR –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## üìä –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. –ù–æ—á–Ω–æ–π –∞—É–¥–∏—Ç (`scripts/nightly_audit.py`)

**–§—É–Ω–∫—Ü–∏–∏:**
- Environment-–∞—É–¥–∏—Ç Cursor IDE
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –æ—Ç—á—ë—Ç–æ–≤

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```yaml
# .auditconfig.yaml
notifications:
  enabled: true
  thresholds:
    environment_score_critical: 0.5
    environment_score_warning: 0.7
    overall_score_critical: 0.4
    overall_score_warning: 0.6
```

### 2. –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–∞–Ω–∞–ª—ã:**
- Email (SMTP)
- Slack (Webhook)
- Generic Webhook
- GitHub Issues (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**
```yaml
notifications:
  email:
    enabled: true
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    username: "your-email@gmail.com"
    password: "your-app-password"
    to_addresses: ["admin@terag.ai"]
  
  slack:
    enabled: true
    webhook_url: "https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"
    channel: "#terag-alerts"
  
  webhook:
    enabled: true
    url: "http://localhost:8080/webhook/audit-alerts"
    timeout: 10
```

### 3. CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**GitHub Actions workflow:**
- **–¢—Ä–∏–≥–≥–µ—Ä—ã:** push, PR, schedule, manual
- **–ü—Ä–æ–≤–µ—Ä–∫–∏:** environment-–∞—É–¥–∏—Ç, –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- **–î–µ–π—Å—Ç–≤–∏—è:** –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ PR, —Å–æ–∑–¥–∞–Ω–∏–µ issues
- **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:** –æ—Ç—á—ë—Ç—ã –∞—É–¥–∏—Ç–∞ (30 –¥–Ω–µ–π)

**–ü–æ—Ä–æ–≥–∏ –¥–ª—è CI/CD:**
- Environment Score < 0.5 ‚Üí –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞
- Environment Score < 0.7 ‚Üí –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- –°–æ–∑–¥–∞–Ω–∏–µ issue –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ PR –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

### 4. –î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**URL:** `http://localhost:8000/audit-dashboard.html`

**–§—É–Ω–∫—Ü–∏–∏:**
- –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (30 —Å–µ–∫)
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è scores —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –î–µ—Ç–∞–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**API endpoints:**
- `GET /api/audit/latest` - –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç—á—ë—Ç –∞—É–¥–∏—Ç–∞
- `GET /api/metrics` - –º–µ—Ç—Ä–∏–∫–∏ AI-REPS
- `GET /api/health` - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

### Windows Task Scheduler

```powershell
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á
Get-ScheduledTask -TaskName "TERAG-Nightly-Audit"

# –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏
Start-ScheduledTask -TaskName "TERAG-Nightly-Audit"

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏
Stop-ScheduledTask -TaskName "TERAG-Nightly-Audit"

# –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
Unregister-ScheduledTask -TaskName "TERAG-Nightly-Audit" -Confirm:$false
```

### –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –¢–æ–ª—å–∫–æ environment-–∞—É–¥–∏—Ç
python scripts/nightly_audit.py --environment-only

# –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç
python scripts/nightly_audit.py

# –° –∫–∞—Å—Ç–æ–º–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
python scripts/nightly_audit.py --config custom_config.yaml

# –û—á–∏—Å—Ç–∫–∞ –æ—Ç—á—ë—Ç–æ–≤ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
python scripts/nightly_audit.py --cleanup-days 7
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã

### –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ | –û—Ç–ª–∏—á–Ω–æ |
|-----------|-------------|----------------|---------|
| Environment Score | < 0.5 | < 0.7 | ‚â• 0.8 |
| Overall Score | < 0.4 | < 0.6 | ‚â• 0.8 |

### –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ** (üî¥)
   - Environment Score < 0.5
   - –°–æ–∑–¥–∞–Ω–∏–µ GitHub Issue
   - Email/Slack —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

2. **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** (üü°)
   - Environment Score < 0.7
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ PR
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ** (‚ÑπÔ∏è)
   - –£—Å–ø–µ—à–Ω—ã–µ –∞—É–¥–∏—Ç—ã
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–§–∞–π–ª—ã –ª–æ–≥–æ–≤:**
- `logs/nightly_audit_YYYY-MM-DD.log` - –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
- `audit_reports/nightly/` - –æ—Ç—á—ë—Ç—ã –∞—É–¥–∏—Ç–∞
- GitHub Actions logs - CI/CD –ª–æ–≥–∏

**–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
- INFO - –æ–±—ã—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- WARNING - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- ERROR - –æ—à–∏–±–∫–∏
- CRITICAL - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **Environment Score –Ω–∏–∑–∫–∏–π**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ Cursor –Ω–∞—Å—Ç—Ä–æ–µ–∫
   cat ~/.cursor/settings.json
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ MCP –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   ls ~/.cursor/mcp/
   
   # –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
   rm -rf ~/.cursor_cache
   ```

2. **API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
   netstat -ano | findstr :8000
   
   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ API
   python scripts/run_api.py
   ```

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   python -c "import yaml; print(yaml.safe_load(open('.auditconfig.yaml'))['notifications'])"
   
   # –¢–µ—Å—Ç webhook
   curl -X POST http://localhost:8080/webhook/audit-alerts -d '{"test": true}'
   ```

4. **CI/CD –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ workflow —Ñ–∞–π–ª –≤ `.github/workflows/`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å YAML

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
python scripts/nightly_audit.py --environment-only --config .auditconfig.yaml

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl -s http://127.0.0.1:8000/api/health | python -m json.tool

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞
curl -s http://127.0.0.1:8000/api/audit/latest | python -m json.tool
```

## üìã –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –°–æ–∑–¥–∞–Ω `.auditconfig.yaml` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω Windows Task Scheduler (–∏–ª–∏ cron –Ω–∞ Linux)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (email/slack/webhook)
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω GitHub Actions workflow
- [ ] –ó–∞–ø—É—â–µ–Ω API —Å–µ—Ä–≤–µ—Ä –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω environment-–∞—É–¥–∏—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –æ—Ç—á—ë—Ç–æ–≤

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus/Grafana
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ –≤ Slack

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - Self-healing –º–µ—Ö–∞–Ω–∏–∑–º—ã

3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å**
   - –¢—Ä–µ–Ω–¥—ã environment-–∞—É–¥–∏—Ç–∞
   - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
   - –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏**
   - Jira –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –ø—Ä–æ–±–ª–µ–º
   - Confluence –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - Teams –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

---

**–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ TERAG AI-REPS –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- –õ–æ–≥–∏: `logs/nightly_audit_*.log`
- –û—Ç—á—ë—Ç—ã: `audit_reports/nightly/`
- –î–∞—à–±–æ—Ä–¥: `http://localhost:8000/audit-dashboard.html`



































